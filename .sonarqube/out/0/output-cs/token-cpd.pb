‹
PC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Controllers\CommentController.cs
	namespace 	
Pawbook
 
. 
Controllers 
{ 
public 

class 
CommentController "
:# $

Controller% /
{ 
private		 
readonly		 
ICommentService		 (
_commentService		) 8
;		8 9
public 
CommentController  
(  !
ICommentService! 0
commentService1 ?
)? @
{ 	
_commentService 
= 
commentService ,
;, -
} 	
public 
IActionResult 
Index "
(" #
int# &
postId' -
)- .
{ 	
var 
countComments 
= 
_commentService  /
./ 0!
CountCommentsByPostId0 E
(E F
postIdF L
)L M
;M N
if 
( 
countComments 
> 
$num  
)  !
{ 
List 
< 
Comment 
> 
comments &
=' (
_commentService) 8
.8 9
GetCommentsByPostId9 L
(L M
postIdM S
)S T
;T U
return 
View 
( 
comments $
)$ %
;% &
} 
return 
new 
EmptyResult "
(" #
)# $
;$ %
} 	
public 
IActionResult 
Create #
(# $
int$ '
postId( .
). /
{ 	
return 
View 
( 
) 
; 
}   	
["" 	
HttpPost""	 
]"" 
public## 
IActionResult## 
Create## #
(### $
[##$ %
FromForm##% -
]##- .
Comment##/ 6
comment##7 >
,##> ?
int##@ C
postId##D J
,##J K
int##L O
loggedInUserId##P ^
)##^ _
{$$ 	
_commentService%% 
.%% 

AddComment%% &
(%%& '
comment%%' .
,%%. /
postId%%0 6
,%%6 7
loggedInUserId%%8 F
)%%F G
;%%G H
return'' 
RedirectToAction'' #
(''# $
$str''$ *
,''* +
$str'', 2
)''2 3
;''3 4
}(( 	
})) 
}** ë
SC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Controllers\FriendshipController.cs
	namespace 	
Pawbook
 
. 
Controllers 
{ 
public 

class  
FriendshipController %
:& '

Controller( 2
{ 
private 
readonly 
IFriendshipService +
_friendshipService, >
;> ?
public  
FriendshipController #
(# $
IFriendshipService$ 6
friendshipService7 H
)H I
{ 	
_friendshipService 
=  
friendshipService! 2
;2 3
} 	
public 
IActionResult 
Index "
(" #
int# &
userId' -
)- .
{ 	
List 
< 

Friendship 
> 
friendships (
=) *
_friendshipService+ =
.= >!
GetFriendshipByUserId> S
(S T
userIdT Z
)Z [
;[ \
return 
View 
( 
friendships #
)# $
;$ %
} 	
public 
IActionResult 
Create #
(# $
int$ '
userId( .
,. /
int0 3
loggedInUserId4 B
)B C
{ 	
_friendshipService 
. 
AddFriendship ,
(, -
userId- 3
,3 4
loggedInUserId5 C
)C D
;D E
return!! 
RedirectToAction!! #
(!!# $
$str!!$ *
,!!* +
$str!!, 2
)!!2 3
;!!3 4
}"" 	
}## 
}$$ â"
MC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Controllers\HomeController.cs
	namespace 	
Pawbook
 
. 
Controllers 
{ 
public		 

class		 
HomeController		 
:		  !

Controller		" ,
{

 
private 
readonly 
IFeedItemService )
_feedItemService* :
;: ;
public 
HomeController 
( 
IFeedItemService .
feedItemService/ >
)> ?
{ 	
_feedItemService 
= 
feedItemService .
;. /
} 	
public 
IActionResult 
Feed !
(! "
)" #
{ 	
if 
( 
HttpContext 
. 
Session #
.# $
GetInt32$ ,
(, -
$str- =
)= >
!=? A
nullB F
)F G
{ 
var 
loggedInUserId "
=# $
HttpContext% 0
.0 1
Session1 8
.8 9
GetInt329 A
(A B
$strB R
)R S
;S T
List 
< 
FeedItem 
> 
	feedItems (
=) *
_feedItemService+ ;
.; <
GetAll< B
(B C
loggedInUserIdC Q
)Q R
;R S
return 
View 
( 
	feedItems %
)% &
;& '
} 
return 
RedirectToAction #
(# $
$str$ +
,+ ,
$str- 3
)3 4
;4 5
} 	
public 
IActionResult 
Profile $
($ %
int% (
userId) /
,/ 0
int1 4
isLoggedUser5 A
)A B
{   	
var!! 
loggedInUserId!! 
=!!  
HttpContext!!! ,
.!!, -
Session!!- 4
.!!4 5
GetInt32!!5 =
(!!= >
$str!!> N
)!!N O
;!!O P
List"" 
<"" 
FeedItem"" 
>"" 
	feedItems"" $
=""% &
_feedItemService""' 7
.""7 8
	GetByUser""8 A
(""A B
userId""B H
,""H I
loggedInUserId""J X
,""X Y
isLoggedUser""Z f
)""f g
;""g h
return$$ 
View$$ 
($$ 
	feedItems$$ !
)$$! "
;$$" #
}%% 	
public'' 
IActionResult'' 
AboutUs'' $
(''$ %
)''% &
{(( 	
return)) 
View)) 
()) 
))) 
;)) 
}** 	
public,, 
IActionResult,, 
Gallery,, $
(,,$ %
),,% &
{-- 	
return.. 
View.. 
(.. 
).. 
;.. 
}// 	
public11 
IActionResult11 
Sounds11 #
(11# $
)11$ %
{22 	
return33 
View33 
(33 
)33 
;33 
}44 	
public66 
IActionResult66 
Compressing66 (
(66( )
)66) *
{77 	
return88 
View88 
(88 
)88 
;88 
}99 	
[;; 	
ResponseCache;;	 
(;; 
Duration;; 
=;;  !
$num;;" #
,;;# $
Location;;% -
=;;. /!
ResponseCacheLocation;;0 E
.;;E F
None;;F J
,;;J K
NoStore;;L S
=;;T U
true;;V Z
);;Z [
];;[ \
public<< 
IActionResult<< 
Error<< "
(<<" #
)<<# $
{== 	
return>> 
View>> 
(>> 
new>> 
ErrorViewModel>> *
{>>+ ,
	RequestId>>- 6
=>>7 8
Activity>>9 A
.>>A B
Current>>B I
?>>I J
.>>J K
Id>>K M
??>>N P
HttpContext>>Q \
.>>\ ]
TraceIdentifier>>] l
}>>m n
)>>n o
;>>o p
}?? 	
}@@ 
}AA ¢
LC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Controllers\PawController.cs
	namespace 	
Pawbook
 
. 
Controllers 
{ 
public 

class 
PawController 
:  

Controller! +
{ 
private 
readonly 
IPawService $
_pawService% 0
;0 1
public 
PawController 
( 
IPawService (

pawService) 3
)3 4
{ 	
_pawService 
= 

pawService $
;$ %
} 	
public 
IActionResult 
Index "
(" #
int# &
postId' -
)- .
{ 	
List 
< 
Paw 
> 
paws 
= 
_pawService (
.( )
GetPawsByPostId) 8
(8 9
postId9 ?
)? @
;@ A
return 
View 
( 
paws 
) 
; 
} 	
public 
IActionResult 
Create #
(# $
int$ '
postId( .
,. /
int0 3
loggedInUserId4 B
)B C
{ 	
_pawService   
.   
AddPaw   
(   
postId   %
,  % &
loggedInUserId  ' 5
)  5 6
;  6 7
return"" 
RedirectToAction"" #
(""# $
$str""$ *
,""* +
$str"", 2
)""2 3
;""3 4
}## 	
}$$ 
}%% …
MC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Controllers\PostController.cs
	namespace 	
Pawbook
 
. 
Controllers 
{ 
public 

class 
PostController 
:  !

Controller" ,
{ 
private 
readonly 
IPostService %
_postService& 2
;2 3
public 
PostController 
( 
IPostService *
postService+ 6
)6 7
{ 	
_postService 
= 
postService &
;& '
} 	
public 
IActionResult 
Create #
(# $
)$ %
{ 	
return 
View 
( 
) 
; 
} 	
[ 	
HttpPost	 
] 
public 
IActionResult 
Create #
(# $
[$ %
FromForm% -
]- .
Post/ 3
post4 8
)8 9
{ 	
var 
loggedInUserId 
=  
HttpContext! ,
., -
Session- 4
.4 5
GetInt325 =
(= >
$str> N
)N O
;O P
_postService   
.   
AddPost    
(    !
post  ! %
,  % &
loggedInUserId  ' 5
)  5 6
;  6 7
return"" 
RedirectToAction"" #
(""# $
$str""$ *
,""* +
$str"", 2
)""2 3
;""3 4
}## 	
public%% 
IActionResult%% 
Delete%% #
(%%# $
int%%$ '
postId%%( .
)%%. /
{&& 	
_postService'' 
.'' 
Delete'' 
(''  
postId''  &
)''& '
;''' (
return)) 
RedirectToAction)) #
())# $
$str))$ *
,))* +
$str)), 2
)))2 3
;))3 4
}** 	
}++ 
},, ®I
MC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Controllers\UserController.cs
	namespace 	
Pawbook
 
. 
Controllers 
{ 
public 

class 
UserController 
:  !

Controller" ,
{ 
private 
readonly 
PawbookContext '
_context( 0
;0 1
private 
readonly 
IUserService %
_userService& 2
;2 3
public 
UserController 
( 
PawbookContext ,
context- 4
,4 5
IUserService6 B
userServiceC N
)N O
{ 	
_context 
= 
context 
; 
_userService 
= 
userService &
;& '
} 	
public 
IActionResult 
Register %
(% &
)& '
{ 	
return 
View 
( 
) 
; 
} 	
[!! 	
HttpPost!!	 
]!! 
public"" 
IActionResult"" 
Register"" %
(""% &
[""& '
FromForm""' /
]""/ 0
User""1 5
user""6 :
)"": ;
{## 	
if$$ 
($$ 
_userService$$ 
.$$ 
	UserExist$$ &
($$& '
user$$' +
)$$+ ,
)$$, -
{%% 

ModelState&& 
.&& 
AddModelError&& (
(&&( )
string&&) /
.&&/ 0
Empty&&0 5
,&&5 6
$str&&7 N
)&&N O
;&&O P
return'' 
View'' 
('' 
)'' 
;'' 
}(( 
_userService)) 
.)) 
Register)) !
())! "
user))" &
)))& '
;))' (
return++ 
RedirectToAction++ #
(++# $
$str++$ *
,++* +
$str++, 2
)++2 3
;++3 4
},, 	
public// 
IActionResult// 
Login// "
(//" #
)//# $
{00 	
return11 
View11 
(11 
)11 
;11 
}22 	
[55 	
HttpPost55	 
]55 
public66 
IActionResult66 
Login66 "
(66" #
[66# $
FromForm66$ ,
]66, -
User66. 2
user663 7
)667 8
{77 	
if88 
(88 
!88 
_userService88 
.88 
	UserExist88 &
(88& '
user88' +
)88+ ,
)88, -
{99 

ModelState:: 
.:: 
AddModelError:: (
(::( )
string::) /
.::/ 0
Empty::0 5
,::5 6
$str::7 {
)::{ |
;::| }
return<< 
View<< 
(<< 
)<< 
;<< 
}== 
if>> 
(>> 
!>> 
_userService>> 
.>> 
PasswordMatch>> +
(>>+ ,
user>>, 0
)>>0 1
)>>1 2
{?? 

ModelState@@ 
.@@ 
AddModelError@@ (
(@@( )
string@@) /
.@@/ 0
Empty@@0 5
,@@5 6
$str@@7 S
)@@S T
;@@T U
returnBB 
ViewBB 
(BB 
)BB 
;BB 
}CC 
UserDD 
dbUserDD 
=DD 
_userServiceDD &
.DD& '
GetUserByEmailDD' 5
(DD5 6
userDD6 :
.DD: ;
EmailDD; @
)DD@ A
;DDA B
HttpContextFF 
.FF 
SessionFF 
.FF  
SetInt32FF  (
(FF( )
$strFF) 9
,FF9 :
dbUserFF; A
.FFA B
UserIdFFB H
)FFH I
;FFI J
HttpContextGG 
.GG 
SessionGG 
.GG  
	SetStringGG  )
(GG) *
$strGG* <
,GG< =
dbUserGG> D
.GGD E
UserRoleGGE M
)GGM N
;GGN O
returnII 
RedirectToActionII #
(II# $
$strII$ *
,II* +
$strII, 2
)II2 3
;II3 4
}JJ 	
publicMM 
IActionResultMM 
LogoutMM #
(MM# $
)MM$ %
{NN 	
HttpContextOO 
.OO 
SessionOO 
.OO  
ClearOO  %
(OO% &
)OO& '
;OO' (
returnQQ 
RedirectToActionQQ #
(QQ# $
$strQQ$ *
,QQ* +
$strQQ, 2
)QQ2 3
;QQ3 4
}RR 	
publicUU 
asyncUU 
TaskUU 
<UU 
IActionResultUU '
>UU' (
EditUU) -
(UU- .
intUU. 1
?UU1 2
idUU3 5
)UU5 6
{VV 	
ifWW 
(WW 
idWW 
==WW 
nullWW 
)WW 
{XX 
returnYY 
NotFoundYY 
(YY  
)YY  !
;YY! "
}ZZ 
var\\ 
user\\ 
=\\ 
await\\ 
_context\\ %
.\\% &
Users\\& +
.\\+ ,
	FindAsync\\, 5
(\\5 6
id\\6 8
)\\8 9
;\\9 :
if]] 
(]] 
user]] 
==]] 
null]] 
)]] 
{^^ 
return__ 
NotFound__ 
(__  
)__  !
;__! "
}`` 
returnbb 
Viewbb 
(bb 
userbb 
)bb 
;bb 
}cc 	
[ff 	
HttpPostff	 
]ff 
publicgg 
IActionResultgg 
Editgg !
(gg! "
intgg" %
idgg& (
,gg( )
[gg* +
FromFormgg+ 3
]gg3 4
Usergg5 9
usergg: >
)gg> ?
{hh 	
ifii 
(ii 
idii 
!=ii 
userii 
.ii 
UserIdii !
)ii! "
{jj 
returnkk 
NotFoundkk 
(kk  
)kk  !
;kk! "
}ll 
_userServicemm 
.mm 
Updatemm 
(mm  
usermm  $
)mm$ %
;mm% &
returnoo 
RedirectToActionoo #
(oo# $
$stroo$ *
,oo* +
$stroo, 2
)oo2 3
;oo3 4
}pp 	
[rr 	
HttpPostrr	 
]rr 
publicss 
IActionResultss 
Feedss !
(ss! "
[ss" #
FromFormss# +
]ss+ ,
stringss- 3
searchStringss4 @
)ss@ A
{tt 	
varuu 
usersuu 
=uu 
_userServiceuu $
.uu$ %
GetUserByNameuu% 2
(uu2 3
searchStringuu3 ?
)uu? @
;uu@ A
returnww 
Viewww 
(ww 
usersww 
)ww 
;ww 
}xx 	
publiczz 
asynczz 
Taskzz 
<zz 
IActionResultzz '
>zz' (
Searchzz) /
(zz/ 0
)zz0 1
{{{ 	
return|| 
View|| 
(|| 
await|| 
_context|| &
.||& '
Users||' ,
.||, -
ToListAsync||- 8
(||8 9
)||9 :
)||: ;
;||; <
}}} 	
[ 	
HttpPost	 
] 
public
ÄÄ 
async
ÄÄ 
Task
ÄÄ 
<
ÄÄ 
IActionResult
ÄÄ '
>
ÄÄ' (
Search
ÄÄ) /
(
ÄÄ/ 0
[
ÄÄ0 1
FromForm
ÄÄ1 9
]
ÄÄ9 :

SearchItem
ÄÄ; E

searchItem
ÄÄF P
)
ÄÄP Q
{
ÅÅ 	
var
ÇÇ 
users
ÇÇ 
=
ÇÇ 
from
ÇÇ 
user
ÇÇ !
in
ÇÇ" $
_context
ÇÇ% -
.
ÇÇ- .
Users
ÇÇ. 3
select
ÉÉ 
user
ÉÉ #
;
ÉÉ# $
if
ÖÖ 
(
ÖÖ 
!
ÖÖ 
String
ÖÖ 
.
ÖÖ 
IsNullOrEmpty
ÖÖ %
(
ÖÖ% &

searchItem
ÖÖ& 0
.
ÖÖ0 1

searchTerm
ÖÖ1 ;
)
ÖÖ; <
)
ÖÖ< =
{
ÜÜ 
users
áá 
=
áá 
users
áá 
.
áá 
Where
áá #
(
áá# $
s
áá$ %
=>
áá& (
s
áá) *
.
áá* +
Name
áá+ /
!
áá/ 0
.
áá0 1
Contains
áá1 9
(
áá9 :

searchItem
áá: D
.
ááD E

searchTerm
ááE O
)
ááO P
||
àà$ &
s
àà' (
.
àà( )
	OwnerName
àà) 2
!
àà2 3
.
àà3 4
Contains
àà4 <
(
àà< =

searchItem
àà= G
.
ààG H

searchTerm
ààH R
)
ààR S
)
ààS T
;
ààT U
}
ââ 
return
ãã 
View
ãã 
(
ãã 
await
ãã 
users
ãã #
.
ãã# $
ToListAsync
ãã$ /
(
ãã/ 0
)
ãã0 1
)
ãã1 2
;
ãã2 3
}
åå 	
}
çç 
}éé √ò
SC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Migrations\20220403103242_Create.cs
	namespace 	
Pawbook
 
. 

Migrations 
{ 
public 

partial 
class 
Create 
:  !
	Migration" +
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
UserId 
= 
table "
." #
Column# )
<) *
int* -
>- .
(. /
type/ 3
:3 4
$str5 :
,: ;
nullable< D
:D E
falseF K
)K L
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
Email 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 F
,F G
nullableH P
:P Q
falseR W
)W X
,X Y
Password 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
falseU Z
)Z [
,[ \
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
	OwnerName 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; J
,J K
nullableL T
:T U
falseV [
)[ \
,\ ]
Gender 
= 
table "
." #
Column# )
<) *
int* -
>- .
(. /
type/ 3
:3 4
$str5 :
,: ;
nullable< D
:D E
falseF K
)K L
,L M
Type 
= 
table  
.  !
Column! '
<' (
int( +
>+ ,
(, -
type- 1
:1 2
$str3 8
,8 9
nullable: B
:B C
falseD I
)I J
,J K
	ImageName 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; J
,J K
nullableL T
:T U
falseV [
)[ \
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% /
,/ 0
x1 2
=>3 5
x6 7
.7 8
UserId8 >
)> ?
;? @
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name   
:   
$str   #
,  # $
columns!! 
:!! 
table!! 
=>!! !
new!!" %
{"" 
FriendshipId##  
=##! "
table### (
.##( )
Column##) /
<##/ 0
int##0 3
>##3 4
(##4 5
type##5 9
:##9 :
$str##; @
,##@ A
nullable##B J
:##J K
false##L Q
)##Q R
.$$ 

Annotation$$ #
($$# $
$str$$$ 8
,$$8 9
$str$$: @
)$$@ A
,$$A B
FriendId%% 
=%% 
table%% $
.%%$ %
Column%%% +
<%%+ ,
int%%, /
>%%/ 0
(%%0 1
type%%1 5
:%%5 6
$str%%7 <
,%%< =
nullable%%> F
:%%F G
false%%H M
)%%M N
,%%N O
	CreatedAt&& 
=&& 
table&&  %
.&&% &
Column&&& ,
<&&, -
DateTime&&- 5
>&&5 6
(&&6 7
type&&7 ;
:&&; <
$str&&= H
,&&H I
nullable&&J R
:&&R S
false&&T Y
)&&Y Z
,&&Z [
UserId'' 
='' 
table'' "
.''" #
Column''# )
<'') *
int''* -
>''- .
(''. /
type''/ 3
:''3 4
$str''5 :
,'': ;
nullable''< D
:''D E
true''F J
)''J K
}(( 
,(( 
constraints)) 
:)) 
table)) "
=>))# %
{** 
table++ 
.++ 

PrimaryKey++ $
(++$ %
$str++% 5
,++5 6
x++7 8
=>++9 ;
x++< =
.++= >
FriendshipId++> J
)++J K
;++K L
table,, 
.,, 

ForeignKey,, $
(,,$ %
name-- 
:-- 
$str-- ;
,--; <
column.. 
:.. 
x..  !
=>.." $
x..% &
...& '
UserId..' -
,..- .
principalTable// &
://& '
$str//( /
,/// 0
principalColumn00 '
:00' (
$str00) 1
)001 2
;002 3
}11 
)11 
;11 
migrationBuilder33 
.33 
CreateTable33 (
(33( )
name44 
:44 
$str44 "
,44" #
columns55 
:55 
table55 
=>55 !
new55" %
{66 
HatershipId77 
=77  !
table77" '
.77' (
Column77( .
<77. /
int77/ 2
>772 3
(773 4
type774 8
:778 9
$str77: ?
,77? @
nullable77A I
:77I J
false77K P
)77P Q
.88 

Annotation88 #
(88# $
$str88$ 8
,888 9
$str88: @
)88@ A
,88A B
Reason99 
=99 
table99 "
.99" #
Column99# )
<99) *
string99* 0
>990 1
(991 2
type992 6
:996 7
$str998 G
,99G H
nullable99I Q
:99Q R
false99S X
)99X Y
,99Y Z
FriendId:: 
=:: 
table:: $
.::$ %
Column::% +
<::+ ,
int::, /
>::/ 0
(::0 1
type::1 5
:::5 6
$str::7 <
,::< =
nullable::> F
:::F G
false::H M
)::M N
,::N O
	CreatedAt;; 
=;; 
table;;  %
.;;% &
Column;;& ,
<;;, -
DateTime;;- 5
>;;5 6
(;;6 7
type;;7 ;
:;;; <
$str;;= H
,;;H I
nullable;;J R
:;;R S
false;;T Y
);;Y Z
,;;Z [
UserId<< 
=<< 
table<< "
.<<" #
Column<<# )
<<<) *
int<<* -
><<- .
(<<. /
type<</ 3
:<<3 4
$str<<5 :
,<<: ;
nullable<<< D
:<<D E
true<<F J
)<<J K
}== 
,== 
constraints>> 
:>> 
table>> "
=>>># %
{?? 
table@@ 
.@@ 

PrimaryKey@@ $
(@@$ %
$str@@% 4
,@@4 5
x@@6 7
=>@@8 :
x@@; <
.@@< =
HatershipId@@= H
)@@H I
;@@I J
tableAA 
.AA 

ForeignKeyAA $
(AA$ %
nameBB 
:BB 
$strBB :
,BB: ;
columnCC 
:CC 
xCC  !
=>CC" $
xCC% &
.CC& '
UserIdCC' -
,CC- .
principalTableDD &
:DD& '
$strDD( /
,DD/ 0
principalColumnEE '
:EE' (
$strEE) 1
)EE1 2
;EE2 3
}FF 
)FF 
;FF 
migrationBuilderHH 
.HH 
CreateTableHH (
(HH( )
nameII 
:II 
$strII 
,II 
columnsJJ 
:JJ 
tableJJ 
=>JJ !
newJJ" %
{KK 
PostIdLL 
=LL 
tableLL "
.LL" #
ColumnLL# )
<LL) *
intLL* -
>LL- .
(LL. /
typeLL/ 3
:LL3 4
$strLL5 :
,LL: ;
nullableLL< D
:LLD E
falseLLF K
)LLK L
.MM 

AnnotationMM #
(MM# $
$strMM$ 8
,MM8 9
$strMM: @
)MM@ A
,MMA B
DescriptionNN 
=NN  !
tableNN" '
.NN' (
ColumnNN( .
<NN. /
stringNN/ 5
>NN5 6
(NN6 7
typeNN7 ;
:NN; <
$strNN= L
,NNL M
nullableNNN V
:NNV W
falseNNX ]
)NN] ^
,NN^ _
	ImageNameOO 
=OO 
tableOO  %
.OO% &
ColumnOO& ,
<OO, -
stringOO- 3
>OO3 4
(OO4 5
typeOO5 9
:OO9 :
$strOO; J
,OOJ K
nullableOOL T
:OOT U
falseOOV [
)OO[ \
,OO\ ]
UserIdPP 
=PP 
tablePP "
.PP" #
ColumnPP# )
<PP) *
intPP* -
>PP- .
(PP. /
typePP/ 3
:PP3 4
$strPP5 :
,PP: ;
nullablePP< D
:PPD E
falsePPF K
)PPK L
,PPL M
	CreatedAtQQ 
=QQ 
tableQQ  %
.QQ% &
ColumnQQ& ,
<QQ, -
DateTimeQQ- 5
>QQ5 6
(QQ6 7
typeQQ7 ;
:QQ; <
$strQQ= H
,QQH I
nullableQQJ R
:QQR S
falseQQT Y
)QQY Z
}RR 
,RR 
constraintsSS 
:SS 
tableSS "
=>SS# %
{TT 
tableUU 
.UU 

PrimaryKeyUU $
(UU$ %
$strUU% /
,UU/ 0
xUU1 2
=>UU3 5
xUU6 7
.UU7 8
PostIdUU8 >
)UU> ?
;UU? @
tableVV 
.VV 

ForeignKeyVV $
(VV$ %
nameWW 
:WW 
$strWW 5
,WW5 6
columnXX 
:XX 
xXX  !
=>XX" $
xXX% &
.XX& '
UserIdXX' -
,XX- .
principalTableYY &
:YY& '
$strYY( /
,YY/ 0
principalColumnZZ '
:ZZ' (
$strZZ) 1
,ZZ1 2
onDelete[[  
:[[  !
ReferentialAction[[" 3
.[[3 4
Cascade[[4 ;
)[[; <
;[[< =
}\\ 
)\\ 
;\\ 
migrationBuilder^^ 
.^^ 
CreateTable^^ (
(^^( )
name__ 
:__ 
$str__  
,__  !
columns`` 
:`` 
table`` 
=>`` !
new``" %
{aa 
	CommentIdbb 
=bb 
tablebb  %
.bb% &
Columnbb& ,
<bb, -
intbb- 0
>bb0 1
(bb1 2
typebb2 6
:bb6 7
$strbb8 =
,bb= >
nullablebb? G
:bbG H
falsebbI N
)bbN O
.cc 

Annotationcc #
(cc# $
$strcc$ 8
,cc8 9
$strcc: @
)cc@ A
,ccA B
Contentdd 
=dd 
tabledd #
.dd# $
Columndd$ *
<dd* +
stringdd+ 1
>dd1 2
(dd2 3
typedd3 7
:dd7 8
$strdd9 H
,ddH I
nullableddJ R
:ddR S
falseddT Y
)ddY Z
,ddZ [
	CreatedAtee 
=ee 
tableee  %
.ee% &
Columnee& ,
<ee, -
DateTimeee- 5
>ee5 6
(ee6 7
typeee7 ;
:ee; <
$stree= H
,eeH I
nullableeeJ R
:eeR S
falseeeT Y
)eeY Z
,eeZ [
UserIdff 
=ff 
tableff "
.ff" #
Columnff# )
<ff) *
intff* -
>ff- .
(ff. /
typeff/ 3
:ff3 4
$strff5 :
,ff: ;
nullableff< D
:ffD E
falseffF K
)ffK L
,ffL M
PostIdgg 
=gg 
tablegg "
.gg" #
Columngg# )
<gg) *
intgg* -
>gg- .
(gg. /
typegg/ 3
:gg3 4
$strgg5 :
,gg: ;
nullablegg< D
:ggD E
trueggF J
)ggJ K
}hh 
,hh 
constraintsii 
:ii 
tableii "
=>ii# %
{jj 
tablekk 
.kk 

PrimaryKeykk $
(kk$ %
$strkk% 2
,kk2 3
xkk4 5
=>kk6 8
xkk9 :
.kk: ;
	CommentIdkk; D
)kkD E
;kkE F
tablell 
.ll 

ForeignKeyll $
(ll$ %
namemm 
:mm 
$strmm 8
,mm8 9
columnnn 
:nn 
xnn  !
=>nn" $
xnn% &
.nn& '
PostIdnn' -
,nn- .
principalTableoo &
:oo& '
$stroo( /
,oo/ 0
principalColumnpp '
:pp' (
$strpp) 1
)pp1 2
;pp2 3
}qq 
)qq 
;qq 
migrationBuilderss 
.ss 
CreateTabless (
(ss( )
namett 
:tt 
$strtt 
,tt 
columnsuu 
:uu 
tableuu 
=>uu !
newuu" %
{vv 
PawIdww 
=ww 
tableww !
.ww! "
Columnww" (
<ww( )
intww) ,
>ww, -
(ww- .
typeww. 2
:ww2 3
$strww4 9
,ww9 :
nullableww; C
:wwC D
falsewwE J
)wwJ K
.xx 

Annotationxx #
(xx# $
$strxx$ 8
,xx8 9
$strxx: @
)xx@ A
,xxA B
UserIdyy 
=yy 
tableyy "
.yy" #
Columnyy# )
<yy) *
intyy* -
>yy- .
(yy. /
typeyy/ 3
:yy3 4
$stryy5 :
,yy: ;
nullableyy< D
:yyD E
falseyyF K
)yyK L
,yyL M
PostIdzz 
=zz 
tablezz "
.zz" #
Columnzz# )
<zz) *
intzz* -
>zz- .
(zz. /
typezz/ 3
:zz3 4
$strzz5 :
,zz: ;
nullablezz< D
:zzD E
truezzF J
)zzJ K
}{{ 
,{{ 
constraints|| 
:|| 
table|| "
=>||# %
{}} 
table~~ 
.~~ 

PrimaryKey~~ $
(~~$ %
$str~~% .
,~~. /
x~~0 1
=>~~2 4
x~~5 6
.~~6 7
PawId~~7 <
)~~< =
;~~= >
table 
. 

ForeignKey $
($ %
name
ÄÄ 
:
ÄÄ 
$str
ÄÄ 4
,
ÄÄ4 5
column
ÅÅ 
:
ÅÅ 
x
ÅÅ  !
=>
ÅÅ" $
x
ÅÅ% &
.
ÅÅ& '
PostId
ÅÅ' -
,
ÅÅ- .
principalTable
ÇÇ &
:
ÇÇ& '
$str
ÇÇ( /
,
ÇÇ/ 0
principalColumn
ÉÉ '
:
ÉÉ' (
$str
ÉÉ) 1
)
ÉÉ1 2
;
ÉÉ2 3
}
ÑÑ 
)
ÑÑ 
;
ÑÑ 
migrationBuilder
ÜÜ 
.
ÜÜ 
CreateIndex
ÜÜ (
(
ÜÜ( )
name
áá 
:
áá 
$str
áá *
,
áá* +
table
àà 
:
àà 
$str
àà !
,
àà! "
column
ââ 
:
ââ 
$str
ââ  
)
ââ  !
;
ââ! "
migrationBuilder
ãã 
.
ãã 
CreateIndex
ãã (
(
ãã( )
name
åå 
:
åå 
$str
åå -
,
åå- .
table
çç 
:
çç 
$str
çç $
,
çç$ %
column
éé 
:
éé 
$str
éé  
)
éé  !
;
éé! "
migrationBuilder
êê 
.
êê 
CreateIndex
êê (
(
êê( )
name
ëë 
:
ëë 
$str
ëë ,
,
ëë, -
table
íí 
:
íí 
$str
íí #
,
íí# $
column
ìì 
:
ìì 
$str
ìì  
)
ìì  !
;
ìì! "
migrationBuilder
ïï 
.
ïï 
CreateIndex
ïï (
(
ïï( )
name
ññ 
:
ññ 
$str
ññ &
,
ññ& '
table
óó 
:
óó 
$str
óó 
,
óó 
column
òò 
:
òò 
$str
òò  
)
òò  !
;
òò! "
migrationBuilder
öö 
.
öö 
CreateIndex
öö (
(
öö( )
name
õõ 
:
õõ 
$str
õõ '
,
õõ' (
table
úú 
:
úú 
$str
úú 
,
úú 
column
ùù 
:
ùù 
$str
ùù  
)
ùù  !
;
ùù! "
}
ûû 	
	protected
†† 
override
†† 
void
†† 
Down
††  $
(
††$ %
MigrationBuilder
††% 5
migrationBuilder
††6 F
)
††F G
{
°° 	
migrationBuilder
¢¢ 
.
¢¢ 
	DropTable
¢¢ &
(
¢¢& '
name
££ 
:
££ 
$str
££  
)
££  !
;
££! "
migrationBuilder
•• 
.
•• 
	DropTable
•• &
(
••& '
name
¶¶ 
:
¶¶ 
$str
¶¶ #
)
¶¶# $
;
¶¶$ %
migrationBuilder
®® 
.
®® 
	DropTable
®® &
(
®®& '
name
©© 
:
©© 
$str
©© "
)
©©" #
;
©©# $
migrationBuilder
´´ 
.
´´ 
	DropTable
´´ &
(
´´& '
name
¨¨ 
:
¨¨ 
$str
¨¨ 
)
¨¨ 
;
¨¨ 
migrationBuilder
ÆÆ 
.
ÆÆ 
	DropTable
ÆÆ &
(
ÆÆ& '
name
ØØ 
:
ØØ 
$str
ØØ 
)
ØØ 
;
ØØ 
migrationBuilder
±± 
.
±± 
	DropTable
±± &
(
±±& '
name
≤≤ 
:
≤≤ 
$str
≤≤ 
)
≤≤ 
;
≤≤ 
}
≥≥ 	
}
¥¥ 
}µµ ¬

SC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Migrations\20220403104148_Update.cs
	namespace 	
Pawbook
 
. 

Migrations 
{ 
public 

partial 
class 
Update 
:  !
	Migration" +
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
RenameColumn )
() *
name 
: 
$str 
,  
table 
: 
$str !
,! "
newName 
: 
$str 
)  
;  !
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
RenameColumn )
() *
name 
: 
$str 
, 
table 
: 
$str !
,! "
newName 
: 
$str "
)" #
;# $
} 	
} 
} ©
VC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Migrations\20220507150146_UpdatePaw.cs
	namespace 	
Pawbook
 
. 

Migrations 
{ 
public 

partial 
class 
	UpdatePaw "
:# $
	Migration% .
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
CreateIndex (
(( )
name 
: 
$str &
,& '
table 
: 
$str 
, 
column 
: 
$str  
)  !
;! "
migrationBuilder 
. 
AddForeignKey *
(* +
name 
: 
$str ,
,, -
table 
: 
$str 
, 
column 
: 
$str  
,  !
principalTable 
: 
$str  '
,' (
principalColumn 
:  
$str! )
,) *
onDelete 
: 
ReferentialAction +
.+ ,
Cascade, 3
)3 4
;4 5
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str ,
,, -
table 
: 
$str 
) 
; 
migrationBuilder 
. 
	DropIndex &
(& '
name   
:   
$str   &
,  & '
table!! 
:!! 
$str!! 
)!! 
;!! 
}"" 	
}## 
}$$ ⁄&
WC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Migrations\20220507152456_UpdatePaw2.cs
	namespace 	
Pawbook
 
. 

Migrations 
{ 
public 

partial 
class 

UpdatePaw2 #
:$ %
	Migration& /
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str ,
,, -
table 
: 
$str 
) 
; 
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str ,
,, -
table 
: 
$str 
) 
; 
migrationBuilder 
. 
	DropIndex &
(& '
name 
: 
$str &
,& '
table 
: 
$str 
) 
; 
migrationBuilder 
. 
AlterColumn (
<( )
int) ,
>, -
(- .
name 
: 
$str 
, 
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$num 
,  

oldClrType 
: 
typeof "
(" #
int# &
)& '
,' (
oldType 
: 
$str 
, 
oldNullable 
: 
true !
)! "
;" #
migrationBuilder!! 
.!! 
AddForeignKey!! *
(!!* +
name"" 
:"" 
$str"" ,
,"", -
table## 
:## 
$str## 
,## 
column$$ 
:$$ 
$str$$  
,$$  !
principalTable%% 
:%% 
$str%%  '
,%%' (
principalColumn&& 
:&&  
$str&&! )
,&&) *
onDelete'' 
:'' 
ReferentialAction'' +
.''+ ,
Cascade'', 3
)''3 4
;''4 5
}(( 	
	protected** 
override** 
void** 
Down**  $
(**$ %
MigrationBuilder**% 5
migrationBuilder**6 F
)**F G
{++ 	
migrationBuilder,, 
.,, 
DropForeignKey,, +
(,,+ ,
name-- 
:-- 
$str-- ,
,--, -
table.. 
:.. 
$str.. 
).. 
;.. 
migrationBuilder00 
.00 
AlterColumn00 (
<00( )
int00) ,
>00, -
(00- .
name11 
:11 
$str11 
,11 
table22 
:22 
$str22 
,22 
type33 
:33 
$str33 
,33 
nullable44 
:44 
true44 
,44 

oldClrType55 
:55 
typeof55 "
(55" #
int55# &
)55& '
,55' (
oldType66 
:66 
$str66 
)66 
;66  
migrationBuilder88 
.88 
CreateIndex88 (
(88( )
name99 
:99 
$str99 &
,99& '
table:: 
::: 
$str:: 
,:: 
column;; 
:;; 
$str;;  
);;  !
;;;! "
migrationBuilder== 
.== 
AddForeignKey== *
(==* +
name>> 
:>> 
$str>> ,
,>>, -
table?? 
:?? 
$str?? 
,?? 
column@@ 
:@@ 
$str@@  
,@@  !
principalTableAA 
:AA 
$strAA  '
,AA' (
principalColumnBB 
:BB  
$strBB! )
)BB) *
;BB* +
migrationBuilderDD 
.DD 
AddForeignKeyDD *
(DD* +
nameEE 
:EE 
$strEE ,
,EE, -
tableFF 
:FF 
$strFF 
,FF 
columnGG 
:GG 
$strGG  
,GG  !
principalTableHH 
:HH 
$strHH  '
,HH' (
principalColumnII 
:II  
$strII! )
,II) *
onDeleteJJ 
:JJ 
ReferentialActionJJ +
.JJ+ ,
CascadeJJ, 3
)JJ3 4
;JJ4 5
}KK 	
}LL 
}MM °
ZC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Migrations\20220508051933_UpdateComment.cs
	namespace 	
Pawbook
 
. 

Migrations 
{ 
public 

partial 
class 
UpdateComment &
:' (
	Migration) 2
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str 0
,0 1
table 
: 
$str !
)! "
;" #
migrationBuilder 
. 
AlterColumn (
<( )
int) ,
>, -
(- .
name 
: 
$str 
, 
table 
: 
$str !
,! "
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$num 
,  

oldClrType 
: 
typeof "
(" #
int# &
)& '
,' (
oldType 
: 
$str 
, 
oldNullable 
: 
true !
)! "
;" #
migrationBuilder 
. 
AddForeignKey *
(* +
name 
: 
$str 0
,0 1
table 
: 
$str !
,! "
column 
: 
$str  
,  !
principalTable 
: 
$str  '
,' (
principalColumn 
:  
$str! )
,) *
onDelete 
: 
ReferentialAction +
.+ ,
Cascade, 3
)3 4
;4 5
}   	
	protected"" 
override"" 
void"" 
Down""  $
(""$ %
MigrationBuilder""% 5
migrationBuilder""6 F
)""F G
{## 	
migrationBuilder$$ 
.$$ 
DropForeignKey$$ +
($$+ ,
name%% 
:%% 
$str%% 0
,%%0 1
table&& 
:&& 
$str&& !
)&&! "
;&&" #
migrationBuilder(( 
.(( 
AlterColumn(( (
<((( )
int(() ,
>((, -
(((- .
name)) 
:)) 
$str)) 
,)) 
table** 
:** 
$str** !
,**! "
type++ 
:++ 
$str++ 
,++ 
nullable,, 
:,, 
true,, 
,,, 

oldClrType-- 
:-- 
typeof-- "
(--" #
int--# &
)--& '
,--' (
oldType.. 
:.. 
$str.. 
).. 
;..  
migrationBuilder00 
.00 
AddForeignKey00 *
(00* +
name11 
:11 
$str11 0
,110 1
table22 
:22 
$str22 !
,22! "
column33 
:33 
$str33  
,33  !
principalTable44 
:44 
$str44  '
,44' (
principalColumn55 
:55  
$str55! )
)55) *
;55* +
}66 	
}77 
}88 ã7
XC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Migrations\20220521145241_AddUserRole.cs
	namespace 	
Pawbook
 
. 

Migrations 
{ 
public 

partial 
class 
AddUserRole $
:% &
	Migration' 0
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str -
,- .
table 
: 
$str 
) 
;  
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str  
,  !
table 
: 
$str 
, 
type 
: 
$str %
,% &
	maxLength 
: 
$num 
, 
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str (
)( )
;) *
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str  
,  !
table 
: 
$str 
, 
type 
: 
$str %
,% &
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
migrationBuilder 
. 
AlterColumn (
<( )
int) ,
>, -
(- .
name   
:   
$str   
,   
table!! 
:!! 
$str!! 
,!! 
type"" 
:"" 
$str"" 
,"" 
nullable## 
:## 
true## 
,## 

oldClrType$$ 
:$$ 
typeof$$ "
($$" #
int$$# &
)$$& '
,$$' (
oldType%% 
:%% 
$str%% 
)%% 
;%%  
migrationBuilder'' 
.'' 
CreateIndex'' (
(''( )
name(( 
:(( 
$str(( *
,((* +
table)) 
:)) 
$str)) !
,))! "
column** 
:** 
$str**  
)**  !
;**! "
migrationBuilder,, 
.,, 
AddForeignKey,, *
(,,* +
name-- 
:-- 
$str-- 0
,--0 1
table.. 
:.. 
$str.. !
,..! "
column// 
:// 
$str//  
,//  !
principalTable00 
:00 
$str00  '
,00' (
principalColumn11 
:11  
$str11! )
,11) *
onDelete22 
:22 
ReferentialAction22 +
.22+ ,
Cascade22, 3
)223 4
;224 5
migrationBuilder44 
.44 
AddForeignKey44 *
(44* +
name55 
:55 
$str55 -
,55- .
table66 
:66 
$str66 
,66 
column77 
:77 
$str77  
,77  !
principalTable88 
:88 
$str88  '
,88' (
principalColumn99 
:99  
$str99! )
)99) *
;99* +
}:: 	
	protected<< 
override<< 
void<< 
Down<<  $
(<<$ %
MigrationBuilder<<% 5
migrationBuilder<<6 F
)<<F G
{== 	
migrationBuilder>> 
.>> 
DropForeignKey>> +
(>>+ ,
name?? 
:?? 
$str?? 0
,??0 1
table@@ 
:@@ 
$str@@ !
)@@! "
;@@" #
migrationBuilderBB 
.BB 
DropForeignKeyBB +
(BB+ ,
nameCC 
:CC 
$strCC -
,CC- .
tableDD 
:DD 
$strDD 
)DD 
;DD  
migrationBuilderFF 
.FF 
	DropIndexFF &
(FF& '
nameGG 
:GG 
$strGG *
,GG* +
tableHH 
:HH 
$strHH !
)HH! "
;HH" #
migrationBuilderJJ 
.JJ 

DropColumnJJ '
(JJ' (
nameKK 
:KK 
$strKK  
,KK  !
tableLL 
:LL 
$strLL 
)LL 
;LL  
migrationBuilderNN 
.NN 
AlterColumnNN (
<NN( )
stringNN) /
>NN/ 0
(NN0 1
nameOO 
:OO 
$strOO  
,OO  !
tablePP 
:PP 
$strPP 
,PP 
typeQQ 
:QQ 
$strQQ %
,QQ% &
nullableRR 
:RR 
falseRR 
,RR  

oldClrTypeSS 
:SS 
typeofSS "
(SS" #
stringSS# )
)SS) *
,SS* +
oldTypeTT 
:TT 
$strTT (
,TT( )
oldMaxLengthUU 
:UU 
$numUU !
)UU! "
;UU" #
migrationBuilderWW 
.WW 
AlterColumnWW (
<WW( )
intWW) ,
>WW, -
(WW- .
nameXX 
:XX 
$strXX 
,XX 
tableYY 
:YY 
$strYY 
,YY 
typeZZ 
:ZZ 
$strZZ 
,ZZ 
nullable[[ 
:[[ 
false[[ 
,[[  
defaultValue\\ 
:\\ 
$num\\ 
,\\  

oldClrType]] 
:]] 
typeof]] "
(]]" #
int]]# &
)]]& '
,]]' (
oldType^^ 
:^^ 
$str^^ 
,^^ 
oldNullable__ 
:__ 
true__ !
)__! "
;__" #
migrationBuilderaa 
.aa 
AddForeignKeyaa *
(aa* +
namebb 
:bb 
$strbb -
,bb- .
tablecc 
:cc 
$strcc 
,cc 
columndd 
:dd 
$strdd  
,dd  !
principalTableee 
:ee 
$stree  '
,ee' (
principalColumnff 
:ff  
$strff! )
,ff) *
onDeletegg 
:gg 
ReferentialActiongg +
.gg+ ,
Cascadegg, 3
)gg3 4
;gg4 5
}hh 	
}ii 
}jj ∆
ZC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Migrations\20220522084230_AddPostStatus.cs
	namespace 	
Pawbook
 
. 

Migrations 
{ 
public 

partial 
class 
AddPostStatus &
:' (
	Migration) 2
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str 
, 
table 
: 
$str 
, 
type 
: 
$str %
,% &
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
, 
table 
: 
$str 
) 
;  
} 	
} 
} ã

AC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Models\Comment.cs
	namespace 	
Pawbook
 
. 
Models 
{ 
public 

class 
Comment 
{ 
public 
int 
	CommentId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
Body 
{ 
get !
;! "
set# &
;& '
}( )
public 
DateTime 
	CreatedAt !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
DateTime2 :
.: ;
Now; >
;> ?
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
public		 
int		 
PostId		 
{		 
get		 
;		  
set		! $
;		$ %
}		& '
public

 
User

 
?

 
User

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
} 
} †
HC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Models\ErrorViewModel.cs
	namespace 	
Pawbook
 
. 
Models 
{ 
public 

class 
ErrorViewModel 
{ 
public 
string 
? 
	RequestId  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
bool 
ShowRequestId !
=>" $
!% &
string& ,
., -
IsNullOrEmpty- :
(: ;
	RequestId; D
)D E
;E F
} 
}		 Ò
DC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Models\Friendship.cs
	namespace 	
Pawbook
 
. 
Models 
{ 
public 

class 

Friendship 
{ 
public 
int 
FriendshipId 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
FriendId 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
public 
User 
? 
Friend 
{ 
get !
;! "
set# &
;& '
}( )
public		 
DateTime		 
	CreatedAt		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
=		0 1
DateTime		2 :
.		: ;
Now		; >
;		> ?
}

 
} Ö
CC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Models\Hatership.cs
	namespace 	
Pawbook
 
. 
Models 
{ 
public 

class 
	Hatership 
{ 
public 
int 
HatershipId 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
? 
Reason 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
FriendId 
{ 
get !
;! "
set# &
;& '
}( )
public 
DateTime 
	CreatedAt !
{" #
get$ '
;' (
set) ,
;, -
}. /
}		 
}

 Â
=C:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Models\Paw.cs
	namespace 	
Pawbook
 
. 
Models 
{ 
public 

class 
Paw 
{ 
public 
int 
PawId 
{ 
get 
; 
set  #
;# $
}% &
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
PostId 
{ 
get 
;  
set! $
;$ %
}& '
public 
User 
? 
User 
{ 
get 
;  
set! $
;$ %
}& '
}		 
}

 â
HC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Models\PawbookContext.cs
	namespace 	
Pawbook
 
. 
Models 
{ 
public 

class 
PawbookContext 
:  !
	DbContext" +
{ 
public 
PawbookContext 
( 
DbContextOptions .
<. /
PawbookContext/ =
>= >
options? F
)F G
:H I
baseJ N
(N O
optionsO V
)V W
{ 	
}
 
public

 
DbSet

 
<

 
User

 
>

 
?

 
Users

 !
{

" #
get

$ '
;

' (
set

) ,
;

, -
}

. /
public 
DbSet 
< 
Post 
> 
? 
Posts !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
DbSet 
< 
Comment 
> 
? 
Comments '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
DbSet 
< 
Paw 
> 
? 
Paws 
{  !
get" %
;% &
set' *
;* +
}, -
public 
DbSet 
< 

Friendship 
>  
?  !
Friendships" -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 
DbSet 
< 
	Hatership 
> 
?  

Haterships! +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
} 
} à
>C:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Models\Post.cs
	namespace 	
Pawbook
 
. 
Models 
{ 
public 

class 
Post 
{ 
public 
Post 
( 
) 
{ 	
Paws		 
=		 
new		 
List		 
<		 
Paw		 
>		  
(		  !
)		! "
;		" #
Comments

 
=

 
new

 
List

 
<

  
Comment

  '
>

' (
(

( )
)

) *
;

* +
} 	
public 
const 
string !
POST_STATUS_AVAILABLE 1
=2 3
$str4 ?
;? @
public 
const 
string 
POST_STATUS_DELETED /
=0 1
$str2 ;
;; <
public 
int 
PostId 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
? 
Description "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
? 
	ImageName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
	CreatedAt !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
DateTime2 :
.: ;
Now; >
;> ?
public 
ICollection 
< 
Comment "
>" #
?# $
Comments% -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 
ICollection 
< 
Paw 
> 
?  
Paws! %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
[ 	
	NotMapped	 
] 
public 
	IFormFile 
? 
	ImageFile #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
? 
Status 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} ı#
>C:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Models\User.cs
	namespace 	
Pawbook
 
. 
Models 
{ 
public 

enum 
Gender 
{ 
Female 
, 
Male 
}		 
public

 

enum

 
Type

 
{ 
Dog 
, 
Cat 
, 
Rabbit 
, 
Otter 
,  
Fish! %
} 
public 

class 
User 
{ 
public 
User 
( 
) 
{ 	
Posts 
= 
new 
List 
< 
Post !
>! "
(" #
)# $
;$ %
Friendships 
= 
new 
List "
<" #

Friendship# -
>- .
(. /
)/ 0
;0 1

Haterships 
= 
new 
List !
<! "
	Hatership" +
>+ ,
(, -
)- .
;. /
} 	
public 
const 
string 
USER_ROLE_ADMIN +
=, -
$str. 5
;5 6
public 
const 
string 
USER_ROLE_USER *
=+ ,
$str- 3
;3 4
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
? 
Email 
{ 
get "
;" #
set$ '
;' (
}) *
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage '
=( )
$str* h
,h i
MinimumLengthj w
=x y
$numz {
){ |
]| }
public 
string 
? 
Password 
{  !
get" %
;% &
set' *
;* +
}, -
[   	
	NotMapped  	 
]   
[!! 	
Compare!!	 
(!! 
$str!! 
,!! 
ErrorMessage!! )
=!!* +
$str!!, Y
)!!Y Z
]!!Z [
public"" 
string"" 
?"" 
ConfirmPassword"" &
{""' (
get"") ,
;"", -
set"". 1
;""1 2
}""3 4
public## 
string## 
?## 
UserRole## 
{##  !
get##" %
;##% &
set##' *
;##* +
}##, -
public%% 
string%% 
?%% 
Name%% 
{%% 
get%% !
;%%! "
set%%# &
;%%& '
}%%( )
public'' 
string'' 
?'' 
	OwnerName''  
{''! "
get''# &
;''& '
set''( +
;''+ ,
}''- .
public)) 
Gender)) 
Gender)) 
{)) 
get)) "
;))" #
set))$ '
;))' (
}))) *
public++ 
Type++ 
Type++ 
{++ 
get++ 
;++ 
set++  #
;++# $
}++% &
public-- 
string-- 
?-- 
	ImageName--  
{--! "
get--# &
;--& '
set--( +
;--+ ,
}--- .
public// 
ICollection// 
<// 
Post// 
>//  
?//  !
Posts//" '
{//( )
get//* -
;//- .
set/// 2
;//2 3
}//4 5
public11 
virtual11 
ICollection11 "
<11" #

Friendship11# -
>11- .
?11. /
Friendships110 ;
{11< =
get11> A
;11A B
set11C F
;11F G
}11H I
public33 
virtual33 
ICollection33 "
<33" #
	Hatership33# ,
>33, -
?33- .

Haterships33/ 9
{33: ;
get33< ?
;33? @
set33A D
;33D E
}33F G
[55 	
	NotMapped55	 
]55 
public66 
	IFormFile66 
?66 
	ImageFile66 #
{66$ %
get66& )
;66) *
set66+ .
;66. /
}660 1
}77 
}88 ™1
:C:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. #
AddControllersWithViews (
(( )
)) *
;* +
builder 
. 
Services 
. %
AddDistributedMemoryCache *
(* +
)+ ,
;, -
builder 
. 
Services 
. 

AddSession 
( 
options #
=>$ &
{ 
options 
. 
IdleTimeout 
= 
TimeSpan "
." #
FromMinutes# .
(. /
$num/ 1
)1 2
;2 3
options 
. 
Cookie 
. 
HttpOnly 
= 
true "
;" #
options 
. 
Cookie 
. 
IsEssential 
=  
true! %
;% &
} 
) 
; 
builder 
. 
Services 
. 
AddSingleton 
<  
IHttpContextAccessor 2
,2 3
HttpContextAccessor4 G
>G H
(H I
)I J
;J K
builder 
. 
Services 
. 
	AddScoped 
< 
IUserRepository *
,* +
UserRepository, :
>: ;
(; <
)< =
;= >
builder 
. 
Services 
. 
	AddScoped 
< 
IUserService '
,' (
UserService) 4
>4 5
(5 6
)6 7
;7 8
builder 
. 
Services 
. 
	AddScoped 
< 
IPostRepository *
,* +
PostRepository, :
>: ;
(; <
)< =
;= >
builder 
. 
Services 
. 
	AddScoped 
< 
IPostService '
,' (
PostService) 4
>4 5
(5 6
)6 7
;7 8
builder 
. 
Services 
. 
	AddScoped 
< 
IPawRepository )
,) *
PawRepository+ 8
>8 9
(9 :
): ;
;; <
builder 
. 
Services 
. 
	AddScoped 
< 
IPawService &
,& '

PawService( 2
>2 3
(3 4
)4 5
;5 6
builder 
. 
Services 
. 
	AddScoped 
< 
ICommentRepository -
,- .
CommentRepository/ @
>@ A
(A B
)B C
;C D
builder   
.   
Services   
.   
	AddScoped   
<   
ICommentService   *
,  * +
CommentService  , :
>  : ;
(  ; <
)  < =
;  = >
builder"" 
."" 
Services"" 
."" 
	AddScoped"" 
<"" !
IFriendshipRepository"" 0
,""0 1 
FriendshipRepository""2 F
>""F G
(""G H
)""H I
;""I J
builder## 
.## 
Services## 
.## 
	AddScoped## 
<## 
IFriendshipService## -
,##- .
FriendshipService##/ @
>##@ A
(##A B
)##B C
;##C D
builder%% 
.%% 
Services%% 
.%% 
	AddScoped%% 
<%% 
IFeedItemService%% +
,%%+ ,
FeedItemService%%- <
>%%< =
(%%= >
)%%> ?
;%%? @
builder'' 
.'' 
Services'' 
.'' 
	AddScoped'' 
<'' 
IRepositoryWrapper'' -
,''- .
RepositoryWrapper''/ @
>''@ A
(''A B
)''B C
;''C D
builder)) 
.)) 
Services)) 
.)) 
AddDbContext)) 
<)) 
PawbookContext)) ,
>)), -
())- .
options)). 5
=>))6 8
options))9 @
.))@ A
UseSqlServer))A M
())M N
builder))N U
.))U V
Configuration))V c
.))c d
GetConnectionString))d w
())w x
$str	))x â
)
))â ä
)
))ä ã
)
))ã å
;
))å ç
var++ 
app++ 
=++ 	
builder++
 
.++ 
Build++ 
(++ 
)++ 
;++ 
if.. 
(.. 
!.. 
app.. 
... 	
Environment..	 
... 
IsDevelopment.. "
(.." #
)..# $
)..$ %
{// 
app00 
.00 
UseExceptionHandler00 
(00 
$str00 )
)00) *
;00* +
app22 
.22 
UseHsts22 
(22 
)22 
;22 
}33 
app55 
.55 
UseHttpsRedirection55 
(55 
)55 
;55 
app66 
.66 
UseStaticFiles66 
(66 
)66 
;66 
app88 
.88 

UseRouting88 
(88 
)88 
;88 
app:: 
.:: 
UseAuthorization:: 
(:: 
):: 
;:: 
app<< 
.<< 

UseSession<< 
(<< 
)<< 
;<< 
app>> 
.>> 
MapControllerRoute>> 
(>> 
name?? 
:?? 	
$str??
 
,?? 
pattern@@ 
:@@ 
$str@@ 4
)@@4 5
;@@5 6
appBB 
.BB 
RunBB 
(BB 
)BB 	
;BB	 
≥
QC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Repositories\CommentRepository.cs
	namespace 	
Pawbook
 
. 
Repositories 
{ 
public 

class 
CommentRepository "
:# $
RepositoryBase% 3
<3 4
Comment4 ;
>; <
,< =
ICommentRepository> P
{ 
public		 
CommentRepository		  
(		  !
PawbookContext		! /
pawbookContext		0 >
)		> ?
:		@ A
base		B F
(		F G
pawbookContext		G U
)		U V
{

 	
} 	
} 
} ¬
TC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Repositories\FriendshipRepository.cs
	namespace 	
Pawbook
 
. 
Repositories 
{ 
public 

class  
FriendshipRepository %
:& '
RepositoryBase( 6
<6 7

Friendship7 A
>A B
,B C!
IFriendshipRepositoryD Y
{ 
public  
FriendshipRepository #
(# $
PawbookContext$ 2
pawbookContext3 A
)A B
:C D
baseE I
(I J
pawbookContextJ X
)X Y
{		 	
}

 	
} 
} π
\C:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Repositories\Intrfaces\ICommentRepository.cs
	namespace 	
Pawbook
 
. 
Repositories 
. 
	Intrfaces (
{ 
public 

	interface 
ICommentRepository '
:( )
IRepositoryBase* 9
<9 :
Comment: A
>A B
{ 
} 
} ¬
_C:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Repositories\Intrfaces\IFriendshipRepository.cs
	namespace 	
Pawbook
 
. 
Repositories 
. 
	Intrfaces (
{ 
public 

	interface !
IFriendshipRepository *
:+ ,
IRepositoryBase- <
<< =

Friendship= G
>G H
{ 
} 
} ≠
XC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Repositories\Intrfaces\IPawRepository.cs
	namespace 	
Pawbook
 
. 
Repositories 
. 
	Intrfaces (
{ 
public 

	interface 
IPawRepository #
:$ %
IRepositoryBase& 5
<5 6
Paw6 9
>9 :
{ 
} 
} ∞
YC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Repositories\Intrfaces\IPostRepository.cs
	namespace 	
Pawbook
 
. 
Repositories 
. 
	Intrfaces (
{ 
public 

	interface 
IPostRepository $
:% &
IRepositoryBase' 6
<6 7
Post7 ;
>; <
{ 
} 
} ß	
YC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Repositories\Intrfaces\IRepositoryBase.cs
	namespace 	
Pawbook
 
. 
Repositories 
. 
	Intrfaces (
{ 
public 

	interface 
IRepositoryBase $
<$ %
T% &
>& '
{ 

IQueryable 
< 
T 
> 
FindAll 
( 
) 
;  

IQueryable 
< 
T 
> 
FindByCondition %
(% &

Expression& 0
<0 1
Func1 5
<5 6
T6 7
,7 8
bool9 =
>= >
>> ?

expression@ J
)J K
;K L
void		 
Create		 
(		 
T		 
entity		 
)		 
;		 
void

 
Update

 
(

 
T

 
entity

 
)

 
;

 
void 
Delete 
( 
T 
entity 
) 
; 
} 
} é
\C:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Repositories\Intrfaces\IRepositoryWrapper.cs
	namespace 	
Pawbook
 
. 
Repositories 
. 
	Intrfaces (
{ 
public 

	interface 
IRepositoryWrapper '
{ 
IUserRepository 
UserRepository &
{' (
get) ,
;, -
}. /
IPostRepository 
PostRepository &
{' (
get) ,
;, -
}. /
IPawRepository 
PawRepository $
{% &
get' *
;* +
}, -
ICommentRepository 
CommentRepository ,
{- .
get/ 2
;2 3
}4 5!
IFriendshipRepository		  
FriendshipRepository		 2
{		3 4
get		5 8
;		8 9
}		: ;
void

 
Save

 
(

 
)

 
;

 
} 
} ∞
YC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Repositories\Intrfaces\IUserRepository.cs
	namespace 	
Pawbook
 
. 
Repositories 
. 
	Intrfaces (
{ 
public 

	interface 
IUserRepository $
:% &
IRepositoryBase' 6
<6 7
User7 ;
>; <
{ 
} 
} ü
MC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Repositories\PawRepository.cs
	namespace 	
Pawbook
 
. 
Repositories 
{ 
public 

class 
PawRepository 
:  
RepositoryBase! /
</ 0
Paw0 3
>3 4
,4 5
IPawRepository6 D
{ 
public 
PawRepository 
( 
PawbookContext +
pawbookContext, :
): ;
:< =
base> B
(B C
pawbookContextC Q
)Q R
{		 	
}

 	
} 
} §
NC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Repositories\PostRepository.cs
	namespace 	
Pawbook
 
. 
Repositories 
{ 
public 

class 
PostRepository 
:  !
RepositoryBase" 0
<0 1
Post1 5
>5 6
,6 7
IPostRepository8 G
{ 
public 
PostRepository 
( 
PawbookContext ,
pawbookContext- ;
); <
:= >
base? C
(C D
pawbookContextD R
)R S
{		 	
}

 	
} 
} ª
NC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Repositories\RepositoryBase.cs
	namespace 	
Pawbook
 
. 
Repositories 
{ 
public 

abstract 
class 
RepositoryBase (
<( )
T) *
>* +
:, -
IRepositoryBase. =
<= >
T> ?
>? @
whereA F
TG H
:I J
classK P
{		 
	protected

 
PawbookContext

  
pawbookContext

! /
{

0 1
get

2 5
;

5 6
set

7 :
;

: ;
}

< =
	protected 
RepositoryBase  
(  !
PawbookContext! /
pawbookContext0 >
)> ?
{ 	
this 
. 
pawbookContext 
=  !
pawbookContext" 0
;0 1
} 	
public 

IQueryable 
< 
T 
> 
FindAll $
($ %
)% &
{ 	
return 
this 
. 
pawbookContext &
.& '
Set' *
<* +
T+ ,
>, -
(- .
). /
./ 0
AsNoTracking0 <
(< =
)= >
;> ?
} 	
public 

IQueryable 
< 
T 
> 
FindByCondition ,
(, -

Expression- 7
<7 8
Func8 <
<< =
T= >
,> ?
bool@ D
>D E
>E F

expressionG Q
)Q R
{ 	
return 
this 
. 
pawbookContext &
.& '
Set' *
<* +
T+ ,
>, -
(- .
). /
./ 0
Where0 5
(5 6

expression6 @
)@ A
.A B
AsNoTrackingB N
(N O
)O P
;P Q
} 	
public 
void 
Create 
( 
T 
entity #
)# $
{ 	
this 
. 
pawbookContext 
.  
Set  #
<# $
T$ %
>% &
(& '
)' (
.( )
Add) ,
(, -
entity- 3
)3 4
;4 5
} 	
public   
void   
Update   
(   
T   
entity   #
)  # $
{!! 	
this"" 
."" 
pawbookContext"" 
.""  
Set""  #
<""# $
T""$ %
>""% &
(""& '
)""' (
.""( )
Update"") /
(""/ 0
entity""0 6
)""6 7
;""7 8
}## 	
public%% 
void%% 
Delete%% 
(%% 
T%% 
entity%% #
)%%# $
{&& 	
this'' 
.'' 
pawbookContext'' 
.''  
Set''  #
<''# $
T''$ %
>''% &
(''& '
)''' (
.''( )
Remove'') /
(''/ 0
entity''0 6
)''6 7
;''7 8
}(( 	
})) 
}** ≥ 
QC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Repositories\RepositoryWrapper.cs
	namespace 	
Pawbook
 
. 
Repositories 
{ 
public 

class 
RepositoryWrapper "
:# $
IRepositoryWrapper% 7
{ 
private 
readonly 
PawbookContext '
_pawbookContext( 7
;7 8
private		 
IUserRepository		 
?		  
_userRepository		! 0
;		0 1
private

 
IPostRepository

 
?

  
_postRepository

! 0
;

0 1
private 
IPawRepository 
? 
_pawRepository  .
;. /
private 
ICommentRepository "
?" #
_commentRepository$ 6
;6 7
private !
IFriendshipRepository %
?% &!
_friendshipRepository' <
;< =
public 
IUserRepository 
UserRepository -
{ 	
get 
{ 
if 
( 
_userRepository #
==$ &
null' +
)+ ,
{ 
_userRepository #
=$ %
new& )
UserRepository* 8
(8 9
_pawbookContext9 H
)H I
;I J
} 
return 
_userRepository &
;& '
} 
} 	
public 
IPostRepository 
PostRepository -
{ 	
get 
{ 
if   
(   
_postRepository   #
==  $ &
null  ' +
)  + ,
{!! 
_postRepository"" #
=""$ %
new""& )
PostRepository""* 8
(""8 9
_pawbookContext""9 H
)""H I
;""I J
}## 
return%% 
_postRepository%% &
;%%& '
}&& 
}'' 	
public)) 
IPawRepository)) 
PawRepository)) +
{** 	
get++ 
{,, 
if-- 
(-- 
_pawRepository-- "
==--# %
null--& *
)--* +
{.. 
_pawRepository// "
=//# $
new//% (
PawRepository//) 6
(//6 7
_pawbookContext//7 F
)//F G
;//G H
}00 
return22 
_pawRepository22 %
;22% &
}33 
}44 	
public66 
ICommentRepository66 !
CommentRepository66" 3
{77 	
get88 
{99 
if:: 
(:: 
_commentRepository:: &
==::' )
null::* .
)::. /
{;; 
_commentRepository<< &
=<<' (
new<<) ,
CommentRepository<<- >
(<<> ?
_pawbookContext<<? N
)<<N O
;<<O P
}== 
return?? 
_commentRepository?? )
;??) *
}@@ 
}AA 	
publicCC !
IFriendshipRepositoryCC $ 
FriendshipRepositoryCC% 9
{DD 	
getEE 
{FF 
ifGG 
(GG !
_friendshipRepositoryGG )
==GG* ,
nullGG- 1
)GG1 2
{HH !
_friendshipRepositoryII )
=II* +
newII, / 
FriendshipRepositoryII0 D
(IID E
_pawbookContextIIE T
)IIT U
;IIU V
}JJ 
returnLL !
_friendshipRepositoryLL ,
;LL, -
}MM 
}NN 	
publicPP 
RepositoryWrapperPP  
(PP  !
PawbookContextPP! /
pawbookContextPP0 >
)PP> ?
{QQ 	
_pawbookContextRR 
=RR 
pawbookContextRR ,
;RR, -
}SS 	
publicUU 
voidUU 
SaveUU 
(UU 
)UU 
{VV 	
_pawbookContextWW 
.WW 
SaveChangesWW '
(WW' (
)WW( )
;WW) *
}XX 	
}YY 
}ZZ §
NC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Repositories\UserRepository.cs
	namespace 	
Pawbook
 
. 
Repositories 
{ 
public 

class 
UserRepository 
:  !
RepositoryBase" 0
<0 1
User1 5
>5 6
,6 7
IUserRepository8 G
{ 
public 
UserRepository 
( 
PawbookContext ,
pawbookContext- ;
); <
:= >
base? C
(C D
pawbookContextD R
)R S
{		 	
}

 	
} 
} ©,
JC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Services\CommentService.cs
	namespace 	
Pawbook
 
. 
Services 
{ 
public 

class 
CommentService 
:  !
ICommentService" 1
{ 
private		 
readonly		 
IRepositoryWrapper		 +
_repositoryWrapper		, >
;		> ?
private

 
readonly

 
IPostService

 %
_postService

& 2
;

2 3
private 
readonly 
IUserService %
_userService& 2
;2 3
public 
CommentService 
( 
IRepositoryWrapper 0
repositoryWrapper1 B
,B C
IPostServiceD P
postServiceQ \
,\ ]
IUserService^ j
userServicek v
)v w
{ 	
_repositoryWrapper 
=  
repositoryWrapper! 2
;2 3
_postService 
= 
postService &
;& '
_userService 
= 
userService &
;& '
} 	
public 
void 

AddComment 
( 
Comment &
comment' .
,. /
int0 3
postId4 :
,: ;
int< ?
loggedInUserId@ N
)N O
{ 	
Post 
post 
= 
_postService $
.$ %
GetById% ,
(, -
postId- 3
)3 4
;4 5
User 
user 
= 
_userService $
.$ %
GetUserById% 0
(0 1
loggedInUserId1 ?
)? @
;@ A
comment 
. 
UserId 
= 
user !
.! "
UserId" (
;( )
comment 
. 
User 
= 
user 
;  
post 
. 
Comments 
! 
. 
Add 
( 
comment &
)& '
;' (
_repositoryWrapper 
. 
PostRepository -
.- .
Update. 4
(4 5
post5 9
)9 :
;: ;
_repositoryWrapper 
. 
Save #
(# $
)$ %
;% &
} 	
public!! 
void!! 
Update!! 
(!! 
Comment!! "
comment!!# *
)!!* +
{"" 	
Comment## 
	dbComment## 
=## 
GetById##  '
(##' (
comment##( /
.##/ 0
	CommentId##0 9
)##9 :
;##: ;
_repositoryWrapper%% 
.%% 
CommentRepository%% 0
.%%0 1
Update%%1 7
(%%7 8
	dbComment%%8 A
)%%A B
;%%B C
_repositoryWrapper&& 
.&& 
Save&& #
(&&# $
)&&$ %
;&&% &
}'' 	
public)) 
Comment)) 
GetById)) 
()) 
int)) "
id))# %
)))% &
{** 	
return++ 
_repositoryWrapper++ %
.++% &
CommentRepository++& 7
.++7 8
FindByCondition++8 G
(++G H
comment++H O
=>++P R
comment++S Z
.++Z [
	CommentId++[ d
==++e g
id++h j
)++j k
.++k l
First++l q
(++q r
)++r s
;++s t
},, 	
public.. 
int.. !
CountCommentsByPostId.. (
(..( )
int..) ,
postId..- 3
)..3 4
{// 	
List00 
<00 
Comment00 
>00 
comments00 "
=00# $
GetCommentsByPostId00% 8
(008 9
postId009 ?
)00? @
;00@ A
return22 
comments22 
.22 
Count22 !
;22! "
}33 	
public55 
List55 
<55 
Comment55 
>55 
GetCommentsByPostId55 0
(550 1
int551 4
postId555 ;
)55; <
{66 	
List77 
<77 
Comment77 
>77 
comments77 "
=77# $
_repositoryWrapper77% 7
.777 8
CommentRepository778 I
.77I J
FindByCondition77J Y
(77Y Z
comment77Z a
=>77b d
comment77e l
.77l m
PostId77m s
==77t v
postId77w }
)77} ~
.77~ 
ToList	77 Ö
(
77Ö Ü
)
77Ü á
;
77á à
foreach88 
(88 
Comment88 
comment88 $
in88% '
comments88( 0
)880 1
{99 
User:: 
?:: 
user:: 
=:: 
_repositoryWrapper:: /
.::/ 0
UserRepository::0 >
.::> ?
FindByCondition::? N
(::N O
user::O S
=>::T V
user::W [
.::[ \
UserId::\ b
==::c e
comment::f m
.::m n
UserId::n t
)::t u
.::u v
FirstOrDefault	::v Ñ
(
::Ñ Ö
)
::Ö Ü
;
::Ü á
comment;; 
.;; 
User;; 
=;; 
user;; #
;;;# $
}<< 
return>> 
comments>> 
;>> 
}?? 	
}@@ 
}AA ≤C
KC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Services\FeedItemService.cs
	namespace 	
Pawbook
 
. 
Services 
{ 
public 

class 
FeedItemService  
:! "
IFeedItemService# 3
{		 
private

 
readonly

 
IRepositoryWrapper

 +
_repositoryWrapper

, >
;

> ?
private 
readonly 
IPostService %
_postService& 2
;2 3
private 
readonly 
IPawService $
_pawService% 0
;0 1
private 
readonly 
ICommentService (
_commentService) 8
;8 9
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
IFriendshipService +
_friendshipService, >
;> ?
public 
FeedItemService 
( 
IRepositoryWrapper 1
repositoryWrapper2 C
,C D
IPostServiceE Q
postServiceR ]
,] ^
IPawService 

pawService "
," #
ICommentService$ 3
commentService4 B
,B C
IUserServiceD P
userServiceQ \
,\ ]
IFriendshipService 
friendshipService 0
)0 1
{ 	
_repositoryWrapper 
=  
repositoryWrapper! 2
;2 3
_postService 
= 
postService &
;& '
_pawService 
= 

pawService $
;$ %
_commentService 
= 
commentService ,
;, -
_userService 
= 
userService &
;& '
_friendshipService 
=  
friendshipService! 2
;2 3
} 	
public 
List 
< 
FeedItem 
> 
GetAll $
($ %
int% (
?( )
loggedInUserId* 8
)8 9
{ 	
User 
user 
= 
_userService $
.$ %
GetUserById% 0
(0 1
(1 2
int2 5
)5 6
loggedInUserId6 D
!D E
)E F
;F G
List"" 
<"" 
Post"" 
>"" 
posts"" 
="" 
_repositoryWrapper"" 1
.""1 2
PostRepository""2 @
.""@ A
FindByCondition""A P
(""P Q
postItem""Q Y
=>""Z \
postItem""] e
.""e f
Status""f l
==""m o
Post""p t
.""t u"
POST_STATUS_AVAILABLE	""u ä
)
""ä ã
.
""ã å
ToList
""å í
(
""í ì
)
""ì î
;
""î ï
posts## 
.## 
Reverse## 
(## 
)## 
;## 
List$$ 
<$$ 
FeedItem$$ 
>$$ 
	feedItems$$ $
=$$% &
BuildFeedItems$$' 5
($$5 6
user$$6 :
,$$: ;
posts$$< A
)$$A B
;$$B C
return&& 
	feedItems&& 
;&& 
}'' 	
private)) 
List)) 
<)) 
FeedItem)) 
>)) 
BuildFeedItems)) -
())- .
User)). 2
user))3 7
,))7 8
List))9 =
<))= >
Post))> B
>))B C
posts))D I
)))I J
{** 	
List++ 
<++ 
FeedItem++ 
>++ 
	feedItems++ $
=++% &
new++' *
List+++ /
<++/ 0
FeedItem++0 8
>++8 9
(++9 :
)++: ;
;++; <
foreach,, 
(,, 
Post,, 
post,, 
in,, !
posts,," '
),,' (
{-- 
FeedItem.. 
feedItem.. !
=.." #
BuildFeedITem..$ 1
(..1 2
user..2 6
,..6 7
post..8 <
)..< =
;..= >
	feedItems// 
.// 
Add// 
(// 
feedItem// &
)//& '
;//' (
}00 
return22 
	feedItems22 
;22 
}33 	
private55 
FeedItem55 
BuildFeedITem55 &
(55& '
User55' +
user55, 0
,550 1
Post552 6
post557 ;
)55; <
{66 	
FeedItem77 
feedItem77 
=77 
new77  #
FeedItem77$ ,
(77, -
)77- .
;77. /
feedItem88 
.88 
Post88 
=88 
post88  
;88  !
feedItem99 
.99 
User99 
=99 
_repositoryWrapper99 .
.99. /
UserRepository99/ =
.99= >
FindByCondition99> M
(99M N
user99N R
=>99S U
user99V Z
.99Z [
UserId99[ a
==99b d
post99e i
.99i j
UserId99j p
)99p q
.99q r
FirstOrDefault	99r Ä
(
99Ä Å
)
99Å Ç
;
99Ç É
feedItem:: 
.:: 

PawsNumber:: 
=::  !
_pawService::" -
.::- .
CountPawsByPostId::. ?
(::? @
post::@ D
.::D E
PostId::E K
)::K L
;::L M
feedItem;; 
.;; 
CommentsNumber;; #
=;;$ %
_commentService;;& 5
.;;5 6!
CountCommentsByPostId;;6 K
(;;K L
post;;L P
.;;P Q
PostId;;Q W
);;W X
;;;X Y
feedItem<< 
.<< 
pawed<< 
=<< 
_pawService<< (
.<<( )
IsPawedByUser<<) 6
(<<6 7
post<<7 ;
.<<; <
PostId<<< B
,<<B C
user<<D H
.<<H I
UserId<<I O
)<<O P
;<<P Q
return>> 
feedItem>> 
;>> 
}?? 	
publicAA 
ListAA 
<AA 
FeedItemAA 
>AA 
	GetByUserAA '
(AA' (
intAA( +
userIdAA, 2
,AA2 3
intAA4 7
?AA7 8
loggedInUserIdAA9 G
,AAG H
intAAI L
isLoggedUserAAM Y
)AAY Z
{BB 	
UserCC 
userCC 
;CC 
ifEE 
(EE 
isLoggedUserEE 
==EE 
$numEE  !
)EE! "
{FF 
userGG 
=GG 
_userServiceGG #
.GG# $
GetUserByIdGG$ /
(GG/ 0
(GG0 1
intGG1 4
)GG4 5
loggedInUserIdGG5 C
!GGC D
)GGD E
;GGE F
}HH 
elseII 
{JJ 
userKK 
=KK 
_userServiceKK #
.KK# $
GetUserByIdKK$ /
(KK/ 0
userIdKK0 6
)KK6 7
;KK7 8
}LL 
ListNN 
<NN 
PostNN 
>NN 
postsNN 
=NN 
_postServiceNN +
.NN+ ,
GetByUserIdNN, 7
(NN7 8
userNN8 <
.NN< =
UserIdNN= C
)NNC D
;NND E
postsOO 
.OO 
ReverseOO 
(OO 
)OO 
;OO 
ListQQ 
<QQ 
FeedItemQQ 
>QQ 
	feedItemsQQ $
=QQ% &
BuildFeedItemsQQ' 5
(QQ5 6
userQQ6 :
,QQ: ;
postsQQ< A
)QQA B
;QQB C
FeedItemRR 
feedItemRR 
=RR 
newRR  #
FeedItemRR$ ,
(RR, -
)RR- .
;RR. /
feedItemSS 
.SS 
UserSS 
=SS 
userSS  
;SS  !
feedItemTT 
.TT 
alreadyFriendsTT #
=TT$ %
_friendshipServiceTT& 8
.TT8 9
IsFriendWithTT9 E
(TTE F
(TTF G
intTTG J
)TTJ K
loggedInUserIdTTK Y
!TTY Z
,TTZ [
userIdTT\ b
)TTb c
;TTc d
	feedItemsUU 
.UU 
AddUU 
(UU 
feedItemUU "
)UU" #
;UU# $
returnWW 
	feedItemsWW 
;WW 
}XX 	
}YY 
}ZZ ¬
MC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Services\FriendshipService.cs
	namespace 	
Pawbook
 
. 
Services 
{ 
public 

class 
FriendshipService "
:# $
IFriendshipService% 7
{ 
private		 
readonly		 
IRepositoryWrapper		 +
_repositoryWrapper		, >
;		> ?
public 
FriendshipService  
(  !
IRepositoryWrapper! 3
repositoryWrapper4 E
)E F
{ 	
_repositoryWrapper 
=  
repositoryWrapper! 2
;2 3
} 	
public 
void 
AddFriendship !
(! "
int" %
userId& ,
,, -
int. 1
loggedInUserId2 @
)@ A
{ 	

Friendship 

friendship !
=" #
new$ '

Friendship( 2
(2 3
)3 4
;4 5

friendship 
. 
FriendId 
=  !
userId" (
;( )

friendship 
. 
UserId 
= 
loggedInUserId  .
;. /
_repositoryWrapper 
.  
FriendshipRepository 3
.3 4
Create4 :
(: ;

friendship; E
)E F
;F G
_repositoryWrapper 
. 
Save #
(# $
)$ %
;% &
} 	
public 
List 
< 

Friendship 
> !
GetFriendshipByUserId  5
(5 6
int6 9
userId: @
)@ A
{ 	
List 
< 

Friendship 
> 
friendships (
=) *
_repositoryWrapper+ =
.= > 
FriendshipRepository> R
.R S
FindByConditionS b
(b c
itemc g
=>h j
itemk o
.o p
UserIdp v
==w y
userId	z Ä
)
Ä Å
.
Å Ç
ToList
Ç à
(
à â
)
â ä
;
ä ã
foreach 
( 

Friendship 

friendship )
in* ,
friendships- 8
)8 9
{ 
User 
? 
friend 
= 
_repositoryWrapper 1
.1 2
UserRepository2 @
.@ A
FindByConditionA P
(P Q
itemQ U
=>V X
itemY ]
.] ^
UserId^ d
==e g

friendshiph r
.r s
FriendIds {
){ |
.| }
FirstOrDefault	} ã
(
ã å
)
å ç
;
ç é

friendship   
.   
Friend   !
=  " #
friend  $ *
;  * +
}!! 
return## 
friendships## 
;## 
}$$ 	
public&& 
bool&& 
IsFriendWith&&  
(&&  !
int&&! $
loggedInUserId&&% 3
,&&3 4
int&&5 8
userId&&9 ?
)&&? @
{'' 	

Friendship(( 
?(( 

friendship(( "
=((# $
_repositoryWrapper((% 7
.((7 8 
FriendshipRepository((8 L
.((L M
FindByCondition((M \
(((\ ]
item((] a
=>((b d
item((e i
.((i j
UserId((j p
==((q s
loggedInUserId	((t Ç
&&
((É Ö
item
((Ü ä
.
((ä ã
FriendId
((ã ì
==
((î ñ
userId
((ó ù
)
((ù û
.
((û ü
FirstOrDefault
((ü ≠
(
((≠ Æ
)
((Æ Ø
;
((Ø ∞
return** 

friendship** 
!=**  
null**! %
;**% &
}++ 	
},, 
}-- ˝
VC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Services\Interfaces\ICommentService.cs
	namespace 	
Pawbook
 
. 
Services 
. 

Interfaces %
{ 
public 

	interface 
ICommentService $
{ 
void 

AddComment 
( 
Comment 
comment  '
,' (
int) ,
postId- 3
,3 4
int5 8
loggedInUserId9 G
)G H
;H I
List 
< 
Comment 
> 
GetCommentsByPostId )
() *
int* -
postId. 4
)4 5
;5 6
int		 !
CountCommentsByPostId		 !
(		! "
int		" %
postId		& ,
)		, -
;		- .
}

 
} «
WC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Services\Interfaces\IFeedItemService.cs
	namespace 	
Pawbook
 
. 
Services 
. 

Interfaces %
{ 
public 

	interface 
IFeedItemService %
{ 
List 
< 
FeedItem 
> 
GetAll 
( 
int !
?! "
loggedInUserId# 1
)1 2
;2 3
List 
< 
FeedItem 
> 
	GetByUser  
(  !
int! $
userId% +
,+ ,
int- 0
?0 1
loggedInUserId2 @
,@ A
intB E
isLoggedUserF R
)R S
;S T
}		 
}

 Ü
YC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Services\Interfaces\IFriendshipService.cs
	namespace 	
Pawbook
 
. 
Services 
. 

Interfaces %
{ 
public 

	interface 
IFriendshipService '
{ 
void 
AddFriendship 
( 
int 
userId %
,% &
int' *
loggedInUserId+ 9
)9 :
;: ;
List 
< 

Friendship 
> !
GetFriendshipByUserId .
(. /
int/ 2
userId3 9
)9 :
;: ;
bool		 
IsFriendWith		 
(		 
int		 
loggedInUserId		 ,
,		, -
int		. 1
userId		2 8
)		8 9
;		9 :
}

 
} ﬂ
RC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Services\Interfaces\IPawService.cs
	namespace 	
Pawbook
 
. 
Services 
. 

Interfaces %
{ 
public 

	interface 
IPawService  
{ 
List 
< 
Paw 
> 
GetPawsByPostId !
(! "
int" %
postId& ,
), -
;- .
void 
AddPaw 
( 
int 
postId 
, 
int  #
loggedInUserId$ 2
)2 3
;3 4
int		 
CountPawsByPostId		 
(		 
int		 !
postId		" (
)		( )
;		) *
bool

 
IsPawedByUser

 
(

 
int

 
postId

 %
,

% &
int

' *
userId

+ 1
)

1 2
;

2 3
} 
} •
SC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Services\Interfaces\IPostService.cs
	namespace 	
Pawbook
 
. 
Services 
. 

Interfaces %
{ 
public 

	interface 
IPostService !
{ 
void 
AddPost 
( 
Post 
post 
, 
int  #
?# $
loggedInUserId% 3
)3 4
;4 5
Post 
GetById 
( 
int 
id 
) 
; 
List		 
<		 
Post		 
>		 
GetByUserId		 
(		 
int		 "
userId		# )
)		) *
;		* +
void

 
Delete

 
(

 
int

 
postId

 
)

 
;

  
} 
} Á	
SC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Services\Interfaces\IUserService.cs
	namespace 	
Pawbook
 
. 
Services 
. 

Interfaces %
{ 
public 

	interface 
IUserService !
{ 
List 
< 
User 
> 
GetUserByName  
(  !
string! '
searchString( 4
)4 5
;5 6
void 
Update 
( 
User 
user 
) 
; 
bool		 
	UserExist		 
(		 
User		 
user		  
)		  !
;		! "
void

 
Register

 
(

 
User

 
user

 
)

  
;

  !
bool 
PasswordMatch 
( 
User 
user  $
)$ %
;% &
User 
GetUserByEmail 
( 
string "
email# (
)( )
;) *
User 
GetUserById 
( 
int 
userId #
)# $
;$ %
} 
} Ô6
FC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Services\PawService.cs
	namespace 	
Pawbook
 
. 
Services 
{ 
public 

class 

PawService 
: 
IPawService )
{ 
private		 
readonly		 
IRepositoryWrapper		 +
_repositoryWrapper		, >
;		> ?
private

 
readonly

 
IPostService

 %
_postService

& 2
;

2 3
private 
readonly 
IUserService %
_userService& 2
;2 3
public 

PawService 
( 
IRepositoryWrapper ,
repositoryWrapper- >
,> ?
IPostService@ L
postServiceM X
,X Y
IUserServiceZ f
userServiceg r
)r s
{ 	
_repositoryWrapper 
=  
repositoryWrapper! 2
;2 3
_postService 
= 
postService &
;& '
_userService 
= 
userService &
;& '
} 	
public 
void 
AddPaw 
( 
int 
postId %
,% &
int' *
loggedInUserId+ 9
)9 :
{ 	
Post 
post 
= 
_postService $
.$ %
GetById% ,
(, -
postId- 3
)3 4
;4 5
User 
user 
= 
_userService $
.$ %
GetUserById% 0
(0 1
loggedInUserId1 ?
)? @
;@ A
Paw 
paw 
= 
	CreatePaw 
(  
user  $
)$ %
;% &
post 
. 
Paws 
! 
. 
Add 
( 
paw 
) 
;  
_repositoryWrapper 
. 
PostRepository -
.- .
Update. 4
(4 5
post5 9
)9 :
;: ;
_repositoryWrapper 
. 
Save #
(# $
)$ %
;% &
} 	
private   
static   
Paw   
	CreatePaw   $
(  $ %
User  % )
user  * .
)  . /
{!! 	
Paw"" 
paw"" 
="" 
new"" 
Paw"" 
("" 
)"" 
;""  
paw## 
.## 
UserId## 
=## 
user## 
.## 
UserId## $
;##$ %
paw$$ 
.$$ 
User$$ 
=$$ 
user$$ 
;$$ 
return&& 
paw&& 
;&& 
}'' 	
public)) 
int)) 
CountPawsByPostId)) $
())$ %
int))% (
postId))) /
)))/ 0
{** 	
List++ 
<++ 
Paw++ 
>++ 
paws++ 
=++ 
GetPawsByPostId++ ,
(++, -
postId++- 3
)++3 4
;++4 5
return-- 
paws-- 
.-- 
Count-- 
;-- 
}.. 	
public00 
void00 
Update00 
(00 
Paw00 
paw00 "
)00" #
{11 	
Paw22 
dbPaw22 
=22 
GetById22 
(22  
paw22  #
.22# $
PawId22$ )
)22) *
;22* +
UpdateDbPaw33 
(33 
dbPaw33 
)33 
;33 
}44 	
private66 
void66 
UpdateDbPaw66  
(66  !
Paw66! $
dbPaw66% *
)66* +
{77 	
_repositoryWrapper88 
.88 
PawRepository88 ,
.88, -
Update88- 3
(883 4
dbPaw884 9
)889 :
;88: ;
_repositoryWrapper99 
.99 
Save99 #
(99# $
)99$ %
;99% &
}:: 	
private<< 
Paw<< 
GetById<< 
(<< 
int<< 
id<<  "
)<<" #
{== 	
return>> 
_repositoryWrapper>> %
.>>% &
PawRepository>>& 3
.>>3 4
FindByCondition>>4 C
(>>C D
paw>>D G
=>>>H J
paw>>K N
.>>N O
PawId>>O T
==>>U W
id>>X Z
)>>Z [
.>>[ \
First>>\ a
(>>a b
)>>b c
;>>c d
}?? 	
publicAA 
ListAA 
<AA 
PawAA 
>AA 
GetPawsByPostIdAA (
(AA( )
intAA) ,
postIdAA- 3
)AA3 4
{BB 	
ListCC 
<CC 
PawCC 
>CC 
pawsCC 
=CC 
_repositoryWrapperCC /
.CC/ 0
PawRepositoryCC0 =
.CC= >
FindByConditionCC> M
(CCM N
pawCCN Q
=>CCR T
pawCCU X
.CCX Y
PostIdCCY _
==CC` b
postIdCCc i
)CCi j
.CCj k
ToListCCk q
(CCq r
)CCr s
;CCs t
foreachDD 
(DD 
PawDD 
pawDD 
inDD 
pawsDD  $
)DD$ %
{EE 
UserFF 
?FF 
userFF 
=FF 
_repositoryWrapperFF /
.FF/ 0
UserRepositoryFF0 >
.FF> ?
FindByConditionFF? N
(FFN O
userFFO S
=>FFT V
userFFW [
.FF[ \
UserIdFF\ b
==FFc e
pawFFf i
.FFi j
UserIdFFj p
)FFp q
.FFq r
FirstOrDefault	FFr Ä
(
FFÄ Å
)
FFÅ Ç
;
FFÇ É
pawGG 
.GG 
UserGG 
=GG 
userGG 
;GG  
}HH 
returnJJ 
pawsJJ 
;JJ 
}KK 	
publicMM 
boolMM 
IsPawedByUserMM !
(MM! "
intMM" %
postIdMM& ,
,MM, -
intMM. 1
userIdMM2 8
)MM8 9
{NN 	
PawOO 
?OO 
pawOO 
=OO 
_repositoryWrapperOO )
.OO) *
PawRepositoryOO* 7
.OO7 8
FindByConditionOO8 G
(OOG H
pawOOH K
=>OOL N
pawOOO R
.OOR S
PostIdOOS Y
==OOZ \
postIdOO] c
&&OOd f
pawOOg j
.OOj k
UserIdOOk q
==OOr t
userIdOOu {
)OO{ |
.OO| }
FirstOrDefault	OO} ã
(
OOã å
)
OOå ç
;
OOç é
returnQQ 
pawQQ 
!=QQ 
nullQQ 
;QQ 
}RR 	
}SS 
}TT ≤6
GC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Services\PostService.cs
	namespace 	
Pawbook
 
. 
Services 
{ 
public 

class 
PostService 
: 
IPostService +
{ 
private		 
readonly		 
IRepositoryWrapper		 +
_repositoryWrapper		, >
;		> ?
private

 
readonly

 
IWebHostEnvironment

 ,
_webHostEnvironment

- @
;

@ A
private 
readonly 
IUserService %
_userService& 2
;2 3
public 
PostService 
( 
IRepositoryWrapper -
repositoryWrapper. ?
,? @
IWebHostEnvironmentA T
webHostEnvironmentU g
,g h
IUserServicei u
userService	v Å
)
Å Ç
{ 	
_repositoryWrapper 
=  
repositoryWrapper! 2
;2 3
_webHostEnvironment 
=  !
webHostEnvironment" 4
;4 5
_userService 
= 
userService &
;& '
} 	
public 
void 
AddPost 
( 
Post  
post! %
,% &
int' *
?* +
loggedInUserId, :
): ;
{ 	
addImage 
( 
post 
) 
; 
User 
user 
= 
_userService $
.$ %
GetUserById% 0
(0 1
(1 2
int2 5
)5 6
loggedInUserId6 D
!D E
)E F
;F G
post 
. 
Status 
= 
Post 
. !
POST_STATUS_AVAILABLE 4
;4 5
user 
. 
Posts 
! 
. 
Add 
( 
post  
)  !
;! "
_repositoryWrapper 
. 
UserRepository -
.- .
Update. 4
(4 5
user5 9
)9 :
;: ;
_repositoryWrapper 
. 
Save #
(# $
)$ %
;% &
} 	
public 
void 
Delete 
( 
int 
postId %
)% &
{   	
Post!! 
post!! 
=!! 
GetById!! 
(!!  
postId!!  &
)!!& '
;!!' (
post"" 
."" 
Status"" 
="" 
Post"" 
."" 
POST_STATUS_DELETED"" 2
;""2 3
UpdateDbPost$$ 
($$ 
post$$ 
)$$ 
;$$ 
}%% 	
public'' 
Post'' 
GetById'' 
('' 
int'' 
id''  "
)''" #
{(( 	
return)) 
_repositoryWrapper)) %
.))% &
PostRepository))& 4
.))4 5
FindByCondition))5 D
())D E
post))E I
=>))J L
post))M Q
.))Q R
PostId))R X
==))Y [
id))\ ^
)))^ _
.))_ `
First))` e
())e f
)))f g
;))g h
}** 	
public,, 
List,, 
<,, 
Post,, 
>,, 
GetByUserId,, %
(,,% &
int,,& )
userId,,* 0
),,0 1
{-- 	
return.. 
_repositoryWrapper.. %
...% &
PostRepository..& 4
...4 5
FindByCondition..5 D
(..D E
post..E I
=>..J L
post..M Q
...Q R
UserId..R X
==..Y [
userId..\ b
&&..c e
post..f j
...j k
Status..k q
==..r t
Post..u y
...y z"
POST_STATUS_AVAILABLE	..z è
)
..è ê
.
..ê ë
ToList
..ë ó
(
..ó ò
)
..ò ô
;
..ô ö
}// 	
private11 
void11 
addImage11 
(11 
Post11 "
post11# '
)11' (
{22 	
string33 
wwwRootPath33 
=33  
_webHostEnvironment33! 4
.334 5
WebRootPath335 @
;33@ A
string44 
fileName44 
=44 
Path44 "
.44" #'
GetFileNameWithoutExtension44# >
(44> ?
post44? C
.44C D
	ImageFile44D M
!44M N
.44N O
FileName44O W
)44W X
;44X Y
string55 
	extension55 
=55 
Path55 #
.55# $
GetExtension55$ 0
(550 1
post551 5
.555 6
	ImageFile556 ?
.55? @
FileName55@ H
)55H I
;55I J
post66 
.66 
	ImageName66 
=66 
fileName66 %
=66& '
fileName66( 0
+661 2
DateTime663 ;
.66; <
Now66< ?
.66? @
ToString66@ H
(66H I
$str66I X
)66X Y
+66Z [
	extension66\ e
;66e f
string77 
path77 
=77 
Path77 
.77 
Combine77 &
(77& '
wwwRootPath77' 2
+773 4
$str775 A
,77A B
fileName77C K
)77K L
;77L M
using88 
(88 
var88 

fileStream88 !
=88" #
new88$ '

FileStream88( 2
(882 3
path883 7
,887 8
FileMode889 A
.88A B
Create88B H
)88H I
)88I J
{99 
post:: 
.:: 
	ImageFile:: 
.:: 
CopyTo:: %
(::% &

fileStream::& 0
)::0 1
;::1 2
};; 
}<< 	
public>> 
void>> 
Update>> 
(>> 
Post>> 
post>>  $
)>>$ %
{?? 	
Post@@ 
dbPost@@ 
=@@ 
GetById@@ !
(@@! "
post@@" &
.@@& '
PostId@@' -
)@@- .
;@@. /
UpdateDbPostAA 
(AA 
dbPostAA 
)AA  
;AA  !
}BB 	
privateDD 
voidDD 
UpdateDbPostDD !
(DD! "
PostDD" &
dbPostDD' -
)DD- .
{EE 	
_repositoryWrapperFF 
.FF 
PostRepositoryFF -
.FF- .
UpdateFF. 4
(FF4 5
dbPostFF5 ;
)FF; <
;FF< =
_repositoryWrapperGG 
.GG 
SaveGG #
(GG# $
)GG$ %
;GG% &
}HH 	
}II 
}JJ ËF
GC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\Services\UserService.cs
	namespace 	
Pawbook
 
. 
Services 
{ 
public 

class 
UserService 
: 
IUserService +
{ 
private		 
readonly		 
IRepositoryWrapper		 +
_repositoryWrapper		, >
;		> ?
private

 
readonly

 
IWebHostEnvironment

 ,
_webHostEnvironment

- @
;

@ A
public 
UserService 
( 
IRepositoryWrapper -
repositoryWrapper. ?
,? @
IWebHostEnvironmentA T
webHostEnvironmentU g
)g h
{ 	
_repositoryWrapper 
=  
repositoryWrapper! 2
;2 3
_webHostEnvironment 
=  !
webHostEnvironment" 4
;4 5
} 	
public 
User 
GetUserByEmail "
(" #
string# )
email* /
)/ 0
{ 	
return 
_repositoryWrapper %
.% &
UserRepository& 4
.4 5
FindByCondition5 D
(D E
userItemE M
=>N P
userItemQ Y
.Y Z
EmailZ _
==` b
emailc h
)h i
.i j
Firstj o
(o p
)p q
;q r
} 	
public 
User 
GetUserById 
(  
int  #
userId$ *
)* +
{ 	
return 
_repositoryWrapper %
.% &
UserRepository& 4
.4 5
FindByCondition5 D
(D E
userItemE M
=>N P
userItemQ Y
.Y Z
UserIdZ `
==a c
userIdd j
)j k
.k l
Firstl q
(q r
)r s
;s t
} 	
public 
List 
< 
User 
> 
GetUserByName '
(' (
string( .
searchString/ ;
); <
{ 	
return 
_repositoryWrapper %
.% &
UserRepository& 4
.4 5
FindByCondition5 D
(D E
userE I
=>J L
userM Q
.Q R
NameR V
==W Y
searchStringZ f
)f g
.g h
ToListh n
(n o
)o p
;p q
} 	
public!! 
bool!! 
PasswordMatch!! !
(!!! "
User!!" &
user!!' +
)!!+ ,
{"" 	
User## 
dbUser## 
=## 
_repositoryWrapper## ,
.##, -
UserRepository##- ;
.##; <
FindByCondition##< K
(##K L
userItem##L T
=>##U W
userItem##X `
.##` a
Email##a f
==##g i
user##j n
.##n o
Email##o t
)##t u
.##u v
First##v {
(##{ |
)##| }
;##} ~
bool%% 
verified%% 
=%% 
BCrypt%% "
.%%" #
Net%%# &
.%%& '
BCrypt%%' -
.%%- .
Verify%%. 4
(%%4 5
user%%5 9
.%%9 :
Password%%: B
,%%B C
dbUser%%D J
.%%J K
Password%%K S
)%%S T
;%%T U
return'' 
verified'' 
;'' 
}(( 	
public** 
void** 
Register** 
(** 
User** !
user**" &
)**& '
{++ 	
user,, 
.,, 
UserRole,, 
=,, 
user,,  
.,,  !
Email,,! &
!,,& '
.,,' (
Contains,,( 0
(,,0 1
$str,,1 ?
),,? @
?,,A B
User,,C G
.,,G H
USER_ROLE_ADMIN,,H W
:,,X Y
User,,Z ^
.,,^ _
USER_ROLE_USER,,_ m
;,,m n
if-- 
(-- 
user-- 
.-- 
Password-- 
!=--  
null--! %
)--% &
{.. 
user// 
.// 
Password// 
=// 
HashPassword//  ,
(//, -
user//- 1
.//1 2
Password//2 :
)//: ;
;//; <
}00 
addImage22 
(22 
user22 
)22 
;22 
_repositoryWrapper33 
.33 
UserRepository33 -
.33- .
Create33. 4
(334 5
user335 9
)339 :
;33: ;
_repositoryWrapper44 
.44 
Save44 #
(44# $
)44$ %
;44% &
}55 	
private77 
static77 
string77 
HashPassword77 *
(77* +
string77+ 1
password772 :
)77: ;
{88 	
return99 
BCrypt99 
.99 
Net99 
.99 
BCrypt99 $
.99$ %
HashPassword99% 1
(991 2
password992 :
)99: ;
;99; <
}:: 	
public<< 
void<< 
Update<< 
(<< 
User<< 
user<<  $
)<<$ %
{== 	
addImage>> 
(>> 
user>> 
)>> 
;>> 
User@@ 
dbUser@@ 
=@@ 
GetUserById@@ %
(@@% &
user@@& *
.@@* +
UserId@@+ 1
)@@1 2
;@@2 3
dbUserAA 
.AA 
	ImageNameAA 
=AA 
userAA #
.AA# $
	ImageNameAA$ -
;AA- .
UpdateDbUserBB 
(BB 
dbUserBB 
)BB  
;BB  !
}CC 	
privateEE 
voidEE 
UpdateDbUserEE !
(EE! "
UserEE" &
dbUserEE' -
)EE- .
{FF 	
_repositoryWrapperGG 
.GG 
UserRepositoryGG -
.GG- .
UpdateGG. 4
(GG4 5
dbUserGG5 ;
)GG; <
;GG< =
_repositoryWrapperHH 
.HH 
SaveHH #
(HH# $
)HH$ %
;HH% &
}II 	
publicKK 
boolKK 
	UserExistKK 
(KK 
UserKK "
userKK# '
)KK' (
{LL 	
UserMM 
dbUserMM 
=MM 
_repositoryWrapperMM ,
.MM, -
UserRepositoryMM- ;
.MM; <
FindByConditionMM< K
(MMK L
userItemMML T
=>MMU W
userItemMMX `
.MM` a
EmailMMa f
==MMg i
userMMj n
.MMn o
EmailMMo t
)MMt u
.MMu v
FirstOrDefault	MMv Ñ
(
MMÑ Ö
)
MMÖ Ü
!
MMÜ á
;
MMá à
returnOO 
dbUserOO 
!=OO 
nullOO !
;OO! "
}PP 	
privateRR 
voidRR 
addImageRR 
(RR 
UserRR "
userRR# '
)RR' (
{SS 	
stringTT 
wwwRootPathTT 
=TT  
_webHostEnvironmentTT! 4
.TT4 5
WebRootPathTT5 @
;TT@ A
stringUU 
fileNameUU 
=UU 
PathUU "
.UU" #'
GetFileNameWithoutExtensionUU# >
(UU> ?
userUU? C
.UUC D
	ImageFileUUD M
!UUM N
.UUN O
FileNameUUO W
)UUW X
;UUX Y
stringVV 
	extensionVV 
=VV 
PathVV #
.VV# $
GetExtensionVV$ 0
(VV0 1
userVV1 5
.VV5 6
	ImageFileVV6 ?
.VV? @
FileNameVV@ H
)VVH I
;VVI J
userWW 
.WW 
	ImageNameWW 
=WW 
fileNameWW %
=WW& '
fileNameWW( 0
+WW1 2
DateTimeWW3 ;
.WW; <
NowWW< ?
.WW? @
ToStringWW@ H
(WWH I
$strWWI X
)WWX Y
+WWZ [
	extensionWW\ e
;WWe f
stringXX 
pathXX 
=XX 
PathXX 
.XX 
CombineXX &
(XX& '
wwwRootPathXX' 2
+XX3 4
$strXX5 D
,XXD E
fileNameXXF N
)XXN O
;XXO P
usingYY 
(YY 
varYY 

fileStreamYY !
=YY" #
newYY$ '

FileStreamYY( 2
(YY2 3
pathYY3 7
,YY7 8
FileModeYY9 A
.YYA B
CreateYYB H
)YYH I
)YYI J
{ZZ 
user[[ 
.[[ 
	ImageFile[[ 
.[[ 
CopyTo[[ %
([[% &

fileStream[[& 0
)[[0 1
;[[1 2
}\\ 
}]] 	
}^^ 
}__ …	
FC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\ViewModels\FeedItem.cs
	namespace 	
Pawbook
 
. 

ViewModels 
{ 
public 

class 
FeedItem 
{ 
public 
Post 
? 
Post 
{ 
get 
;  
set! $
;$ %
}& '
public 
User 
? 
User 
{ 
get 
;  
set! $
;$ %
}& '
public

 
int

 

PawsNumber

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
int 
CommentsNumber !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
bool 
pawed 
{ 
get 
;  
set! $
;$ %
}& '
public 
bool 
alreadyFriends "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} ø
HC:\Users\CRISTIANA\source\repos\Pawbook\Pawbook\ViewModels\SearchItem.cs
	namespace 	
Pawbook
 
. 

ViewModels 
{ 
public 

class 

SearchItem 
{ 
public 
string 
? 

searchTerm !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
}		 